<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="https://s21.ax1x.com/2024/06/14/pkdLxmt.png"
    />
    <link rel="stylesheet" href="/JS_handle_write_book/umi.4c36f7fa.css" />
    <script>
      window.routerBase = "/JS_handle_write_book/";
    </script>
    <script>
      //! umi version: 3.5.17
    </script>
    <script>
      !(function () {
        var e = localStorage.getItem("dumi:prefers-color"),
          t = window.matchMedia("(prefers-color-scheme: dark)").matches,
          r = ["light", "dark", "auto"];
        document.documentElement.setAttribute(
          "data-prefers-color",
          e === r[2] ? (t ? r[1] : r[0]) : r.indexOf(e) > -1 ? e : r[0]
        );
      })();
    </script>
    <title>8.哈希表</title>
  </head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-route="/00handle_write_js/01data_structor/08map" data-show-sidemenu="true" data-show-slugs="true" data-site-mode="true" data-gapless="false" data-use-bg="false" style="padding-bottom:50px;overflow:unset;background-size:cover"><div class="__dumi-default-navbar" data-mode="site" data-is-home="false" style="background-color:#212121"><button class="__dumi-default-navbar-toggle"></button><div class="logo_wrapper"><a class="__dumi-default-navbar-logo" href="/JS_handle_write_book//"><img src="https://s21.ax1x.com/2024/06/14/pkdLxmt.png" alt="JS手写&amp;数据结构算法笔记"/><span class="label">JS手写&amp;数据结构算法笔记</span></a><div class="search_wrapper"><div class="__dumi-default-search" data-is-home="false"><svg width="24px" height="24px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="1.0" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="主页-登录页" transform="translate(-337.000000, -20.000000)"><g id="顶部导航" transform="translate(28.000000, 0.000000)"><g id="编组-3" transform="translate(309.000000, 20.000000)"><rect id="矩形" opacity="0.0848214286" x="0" y="0" width="24" height="24"></rect><path d="M7.63246763,7.63246763 C9.80909114,5.45584412 13.3380951,5.45584412 15.5147186,7.63246763 C17.5003311,9.61808009 17.6745798,12.7291297 16.0374649,14.9122691 L17.7667903,16.6407545 C18.0777366,16.9517007 18.0777366,17.4558441 17.7667903,17.7667903 C17.4558441,18.0777366 16.9517007,18.0777366 16.6407545,17.7667903 L14.9122691,16.0374649 C12.7291297,17.6745798 9.61808009,17.5003311 7.63246763,15.5147186 C5.45584412,13.3380951 5.45584412,9.80909114 7.63246763,7.63246763 Z M14.3886828,8.75850349 C12.8339517,7.20377241 10.3132346,7.20377241 8.75850349,8.75850349 C7.20377241,10.3132346 7.20377241,12.8339517 8.75850349,14.3886828 C10.3132346,15.9434138 12.8339517,15.9434138 14.3886828,14.3886828 C15.9434138,12.8339517 15.9434138,10.3132346 14.3886828,8.75850349 Z" id="形状结合" fill="#666666" fill-rule="nonzero"></path></g></g></g></g></svg><input type="search" class="__dumi-default-search-input" placeholder="search document..." value=""/><ul></ul></div></div></div><span><nav class="navbar_links"><span class="navbar_links-item"><a aria-current="page" class="active" href="/JS_handle_write_book//00handle_write_js">✍️ 常见手写题</a></span><span class="navbar_links-item"><a href="/JS_handle_write_book//01algorithm">🧑‍💻 基本算法</a></span><span class="navbar_links-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/ObjectX-9/JS_handle_write_book">⭐️GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></span></nav></span></div><ul role="slug-list" class="__dumi-default-layout-toc"><li role="slug-list-title">8.哈希表</li><li title="🍐 一、为什么哈希表这种结构会产生？" data-depth="1"><a href="#-一、为什么哈希表这种结构会产生？" class="active"><span>🍐 一、为什么哈希表这种结构会产生？</span></a></li><li title="哈希表产生的原因：" data-depth="3"><a href="#哈希表产生的原因：" class=""><span>哈希表产生的原因：</span></a></li><li title="如何工作：" data-depth="3"><a href="#如何工作：" class=""><span>如何工作：</span></a></li><li title="实际例子：" data-depth="3"><a href="#实际例子：" class=""><span>实际例子：</span></a></li><li title="🍉 二、实现哈希表我们需要关注什么？" data-depth="1"><a href="#-二、实现哈希表我们需要关注什么？" class=""><span>🍉 二、实现哈希表我们需要关注什么？</span></a></li><li title="1.案例" data-depth="2"><a href="#1案例" class=""><span>1.案例</span></a></li><li title="2.转换方法探索" data-depth="2"><a href="#2转换方法探索" class=""><span>2.转换方法探索</span></a></li><li title="3.认识哈希化" data-depth="2"><a href="#3认识哈希化" class=""><span>3.认识哈希化</span></a></li><li title="🍒 三、哈希冲突是什么？如何解决？" data-depth="1"><a href="#-三、哈希冲突是什么？如何解决？" class=""><span>🍒 三、哈希冲突是什么？如何解决？</span></a></li><li title="1.什么是冲突？" data-depth="2"><a href="#1什么是冲突？" class=""><span>1.什么是冲突？</span></a></li><li title="2.链地址法" data-depth="2"><a href="#2链地址法" class=""><span>2.链地址法</span></a></li><li title="3.开放地址法" data-depth="2"><a href="#3开放地址法" class=""><span>3.开放地址法</span></a></li><li title="线性探测" data-depth="3"><a href="#线性探测" class=""><span>线性探测</span></a></li><li title="二次探测" data-depth="3"><a href="#二次探测" class=""><span>二次探测</span></a></li><li title="探测循环产生的原因和解决办法" data-depth="3"><a href="#探测循环产生的原因和解决办法" class=""><span>探测循环产生的原因和解决办法</span></a></li><li title="再哈希法" data-depth="3"><a href="#再哈希法" class=""><span>再哈希法</span></a></li><li title="🥝 四、为什么装填因子会影响哈希表的效率？" data-depth="1"><a href="#🥝-四、为什么装填因子会影响哈希表的效率？" class=""><span>🥝 四、为什么装填因子会影响哈希表的效率？</span></a></li><li title="装填因子（Load Factor）" data-depth="2"><a href="#装填因子（load-factor）" class=""><span>装填因子（Load Factor）</span></a></li><li title="几种冲突解决方式的效率分析" data-depth="2"><a href="#几种冲突解决方式的效率分析" class=""><span>几种冲突解决方式的效率分析</span></a></li><li title="1. 开放寻址法" data-depth="3"><a href="#1-开放寻址法" class=""><span>1. 开放寻址法</span></a></li><li title="2. 链地址法" data-depth="3"><a href="#2-链地址法" class=""><span>2. 链地址法</span></a></li><li title="3. 再哈希" data-depth="3"><a href="#3-再哈希" class=""><span>3. 再哈希</span></a></li><li title="结论" data-depth="2"><a href="#结论" class=""><span>结论</span></a></li><li title="🥑 五、如何设计哈希函数？" data-depth="1"><a href="#🥑-五、如何设计哈希函数？" class=""><span>🥑 五、如何设计哈希函数？</span></a></li><li title="1.快速计算" data-depth="2"><a href="#1快速计算" class=""><span>1.快速计算</span></a></li><li title="分析下暴力计算多项式的复杂度" data-depth="3"><a href="#分析下暴力计算多项式的复杂度" class=""><span>分析下暴力计算多项式的复杂度</span></a></li><li title="多项式-秦九韶算法" data-depth="3"><a href="#多项式-秦九韶算法" class=""><span>多项式-秦九韶算法</span></a></li><li title="分析下秦九韶算法的时间复杂度" data-depth="3"><a href="#分析下秦九韶算法的时间复杂度" class=""><span>分析下秦九韶算法的时间复杂度</span></a></li><li title="2.均匀分布：质数的使用" data-depth="2"><a href="#2均匀分布：质数的使用" class=""><span>2.均匀分布：质数的使用</span></a></li><li title="哈希表的长度为质数" data-depth="3"><a href="#哈希表的长度为质数" class=""><span>哈希表的长度为质数</span></a></li><li title="N次幂的底数, 底数的选择" data-depth="3"><a href="#n次幂的底数-底数的选择" class=""><span>N次幂的底数, 底数的选择</span></a></li><li title="🍑 六、实现哈希表" data-depth="1"><a href="#-六、实现哈希表" class=""><span>🍑 六、实现哈希表</span></a></li><li title="1.实现哈希函数" data-depth="2"><a href="#1实现哈希函数" class=""><span>1.实现哈希函数</span></a></li><li title="2.实现哈希表结构" data-depth="2"><a href="#2实现哈希表结构" class=""><span>2.实现哈希表结构</span></a></li><li title="3.增加&amp;修改数据" data-depth="2"><a href="#3增加修改数据" class=""><span>3.增加&amp;修改数据</span></a></li><li title="4.获取数据" data-depth="2"><a href="#4获取数据" class=""><span>4.获取数据</span></a></li><li title="5.删除数据" data-depth="2"><a href="#5删除数据" class=""><span>5.删除数据</span></a></li><li title="6.其他方法" data-depth="2"><a href="#6其他方法" class=""><span>6.其他方法</span></a></li><li title="☀️ 七、扩容" data-depth="1"><a href="#️-七、扩容" class=""><span>☀️ 七、扩容</span></a></li><li title="1.为什么需要扩容？" data-depth="2"><a href="#1为什么需要扩容？" class=""><span>1.为什么需要扩容？</span></a></li><li title="2.什么时候扩容？" data-depth="2"><a href="#2什么时候扩容？" class=""><span>2.什么时候扩容？</span></a></li><li title="3.怎么扩容？" data-depth="2"><a href="#3怎么扩容？" class=""><span>3.怎么扩容？</span></a></li><li title="4.扩容的实现" data-depth="2"><a href="#4扩容的实现" class=""><span>4.扩容的实现</span></a></li><li title="完整代码" data-depth="1"><a href="#完整代码" class=""><span>完整代码</span></a></li><li title="参考文档" data-depth="1"><a href="#参考文档" class=""><span>参考文档</span></a></li><li title="推荐阅读" data-depth="1"><a href="#推荐阅读" class=""><span>推荐阅读</span></a></li><li title="工程化系列" data-depth="2"><a href="#工程化系列" class=""><span>工程化系列</span></a></li><li title="面试手写系列" data-depth="2"><a href="#面试手写系列" class=""><span>面试手写系列</span></a></li><li title="react实现原理系列" data-depth="2"><a href="#react实现原理系列" class=""><span>react实现原理系列</span></a></li><li title="其他" data-depth="2"><a href="#其他" class=""><span>其他</span></a></li><li title="🍋 写在最后" data-depth="1"><a href="#-写在最后" class=""><span>🍋 写在最后</span></a></li></ul><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;https://s21.ax1x.com/2024/06/14/pkdLxmt.png&#x27;)" href="/JS_handle_write_book//"></a><h1>JS手写&amp;数据结构算法笔记</h1><p></p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a aria-current="page" class="active" href="/JS_handle_write_book//00handle_write_js">✍️ 常见手写题</a></li><li><a href="/JS_handle_write_book//01algorithm">🧑‍💻 基本算法</a></li><li><a target="_blank" rel="noopener noreferrer" href="https://github.com/ObjectX-9/JS_handle_write_book">⭐️GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div><ul class="__dumi-default-menu-list"><ul class="ant-menu ant-menu-root ant-menu-inline ant-menu-light" role="menu" tabindex="0" data-menu-list="true"><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="none"><div role="menuitem" style="padding-left:24px" class="ant-menu-submenu-title" tabindex="-1" aria-expanded="true" aria-haspopup="true"><span class="ant-menu-title-content">00更新日志</span><i class="ant-menu-submenu-arrow"></i></div><ul class="ant-menu ant-menu-sub ant-menu-inline" data-menu-list="true"><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/JS_handle_write_book//00handle_write_js"><span>1.更新日志</span></a></span></li></ul></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="none"><div role="menuitem" style="padding-left:24px" class="ant-menu-submenu-title" tabindex="-1" aria-expanded="true" aria-haspopup="true"><span class="ant-menu-title-content">01常见数据结构实现篇</span><i class="ant-menu-submenu-arrow"></i></div><ul class="ant-menu ant-menu-sub ant-menu-inline" data-menu-list="true"><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/JS_handle_write_book//00handle_write_js/01data_structor/01data_array"><span>1.数组</span></a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/JS_handle_write_book//00handle_write_js/01data_structor/02stack"><span>2.栈</span></a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/JS_handle_write_book//00handle_write_js/01data_structor/03queue"><span>3.队列</span></a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/JS_handle_write_book//00handle_write_js/01data_structor/04single_link"><span>4.单向链表</span></a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/JS_handle_write_book//00handle_write_js/01data_structor/05double_link"><span>5.双向链表</span></a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/JS_handle_write_book//00handle_write_js/01data_structor/06set"><span>6.集合</span></a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/JS_handle_write_book//00handle_write_js/01data_structor/07dict"><span>7.字典</span></a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-selected ant-menu-item-only-child"><span class="ant-menu-title-content"><a aria-current="page" class="active" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map"><span>8.哈希表</span></a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/JS_handle_write_book//00handle_write_js/01data_structor/09tree"><span>9.树</span></a></span></li></ul></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="none"><div role="menuitem" style="padding-left:24px" class="ant-menu-submenu-title" tabindex="-1" aria-expanded="true" aria-haspopup="true"><span class="ant-menu-title-content">02方法实现篇</span><i class="ant-menu-submenu-arrow"></i></div><ul class="ant-menu ant-menu-sub ant-menu-inline" data-menu-list="true"><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/JS_handle_write_book//00handle_write_js/02method/01string_method"><span>1.字符串方法实现</span></a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/JS_handle_write_book//00handle_write_js/02method/02array_method_achieve"><span>2.数组方法实现</span></a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/JS_handle_write_book//00handle_write_js/02method/03object_method"><span>3.对象方法实现</span></a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/JS_handle_write_book//00handle_write_js/02method/04link"><span>4.链表相关操作方法实现</span></a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/JS_handle_write_book//00handle_write_js/02method/05tree"><span>5.树相关操作方法实现</span></a></span></li></ul></li><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="none"><div role="menuitem" style="padding-left:24px" class="ant-menu-submenu-title" tabindex="-1" aria-expanded="true" aria-haspopup="true"><span class="ant-menu-title-content">03进阶实现篇</span><i class="ant-menu-submenu-arrow"></i></div><ul class="ant-menu ant-menu-sub ant-menu-inline" data-menu-list="true"><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/JS_handle_write_book//00handle_write_js/03advanced_implementation/01promise"><span>1.实现promise相关方法</span></a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/JS_handle_write_book//00handle_write_js/03advanced_implementation/02copy"><span>2.实现深、浅拷贝</span></a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/JS_handle_write_book//00handle_write_js/03advanced_implementation/03class"><span>3.实现类的继承</span></a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/JS_handle_write_book//00handle_write_js/03advanced_implementation/04change_this"><span>4.实现call、apply、bind</span></a></span></li></ul></li></ul><div style="display:none" aria-hidden="true"></div></ul></div></div><div class="__dumi-default-layout-content"><div class="__dumi-default-mobile-content"><article><div class="__dumi-default-content-header markdown no-desc"><h1>8.哈希表</h1></div><div class="markdown"><h1 id="-一、为什么哈希表这种结构会产生？"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#-一、为什么哈希表这种结构会产生？"><span class="icon icon-link"></span></a>🍐 一、为什么哈希表这种结构会产生？</h1><p>哈希表（<code>Hash Table</code>），也被称为散列表，是一种结合了数组和链表（或其他高效的查找结构如红黑树）优点的数据结构。哈希表的产生与两个主要需求相关：一是高效的数据存取速度，二是对于数据的快速查找。</p><p><strong>哈希表最关键的地方就是：均匀分布&amp;快速访问，数据均匀分布主要是减少冲突，快速访问则是这个结构诞生的原因。</strong></p><h3 id="哈希表产生的原因："><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#哈希表产生的原因："><span class="icon icon-link"></span></a>哈希表产生的原因：</h3><ol><li><strong>快速访问数据</strong>：数组结构可以实现快速访问元素，因为数组允许通过索引来直接访问其元素，时间复杂度为<code>O(1)</code>。但前提是你需要知道要访问元素的索引，这在实际应用中不总是可行。</li><li><strong>有效的搜索操作</strong>：链表允许你快速地添加和删除元素，但查找元素时却需要从头遍历，最差的时间复杂度是<code>O(n)</code>。</li><li><strong>键值对映射</strong>：在实际应用中，我们经常需要保存一些关联数据，例如一个人的名字和他的个人信息。这就要求一个能够根据“名字”这样的“键（Key）”快速访问“个人信息”这样的“值（Value）”的数据结构。</li></ol><h3 id="如何工作："><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#如何工作："><span class="icon icon-link"></span></a>如何工作：</h3><p>哈希表利用一个哈希函数来计算存储数据的地址。理想情况下，这个哈希函数应能为不同键生成独一无二的地址，实际上这很难做到，因此会产生哈希碰撞。为了解决哈希碰撞，可以使用各种策略（如链地址法、开放定址法等）。</p><h3 id="实际例子："><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#实际例子："><span class="icon icon-link"></span></a>实际例子：</h3><p>比如一个图书馆中的书籍管理系统。每本书都有一个唯一的ISBN（国际标准书号），并且图书管理员需要根据ISBN快速查找对应的书籍。</p><p>如果使用数组，我们可能需要将整个数组遍历一遍才能根据ISBN找到书籍，这是不切实际的；如果用链表，虽然插入和删除简单，但同样查找效率低下；而如果我们用哈希表，就可以将ISBN通过哈希函数转换成一个数组的索引，这个索引对应数组中的一个位置，那么查找书籍的操作平均来说会非常快，时间复杂度为<code>O(1)</code>。</p><p>例如，ISBN为<code>&quot;123-456-789-X&quot;</code>的书可以通过哈希函数计算出一个值，比如说是256。这个值代表数组中的位置，我们直接去数组的第256个位置就可以找到这本书的信息。</p><h1 id="-二、实现哈希表我们需要关注什么？"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#-二、实现哈希表我们需要关注什么？"><span class="icon icon-link"></span></a>🍉 二、实现哈希表我们需要关注什么？</h1><ul><li>字符转数字？</li><li>单词或者字符串转数字？</li><li>如何解决大数转小数?</li><li>如何解决插入冲突?</li></ul><p>为什么说是转数字呢，因为下标是数字呀。</p><h2 id="1案例"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#1案例"><span class="icon icon-link"></span></a>1.案例</h2><p>这个哈希函数如何计算，使用何种方式，这里我们看一个案例</p><p><strong>案例: 图书信息的检索与管理</strong></p><p>假设一个图书馆拥有数十万册图书。需要一个有效的数据结构来存储和检索每一本图书的信息，包括书名、作者、ISBN号、位置、可借状态等。</p><ul><li>方案一: 数组 - 如果用一个巨大的数组按顺序存储每本书的信息，当查找一本特定的书时，可能需要遍历整个数组，这对于效率是一个噩梦。</li><li>方案二: 链表 - 与数组类似，链表便于添加和删除书籍，但查找仍然需要遍历，无法满足快速检索的需求。</li><li>方案三: 用一种可以将书名转为下标值、或是其他什么信息可以转为下标值？</li></ul><h2 id="2转换方法探索"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#2转换方法探索"><span class="icon icon-link"></span></a>2.转换方法探索</h2><ul><li>那如何将<strong>字符</strong>转为数字的？ASCII？或是其他的编码？都可以，你也可以自己设计编码。</li><li>那如何将<strong>单词</strong>转为数字呢？字符转数字后相加？相乘？或者用幂的连乘还是其他方法？</li></ul><h4 id="相加"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#相加"><span class="icon icon-link"></span></a>相加</h4><ul><li><p>一个转换单词的简单方案就是把单词每个字符的编码求和.</p></li><li><p>假设我们用1-26来表示每个字母a-z，那么单词jack转成数字: <code>10 + 1 + 3 + 11 = 25</code>, 那么25就作为jack单词的下标存在数组中.</p></li><li><p>但是这个方案有致命的缺点，很可能有重复的下标，这样插入就出现了冲突。</p></li></ul><h4 id="相乘"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#相乘"><span class="icon icon-link"></span></a>相乘</h4><p>另一种方式则是相乘，但是如果这个字符串很长，这里会乘出一个巨大的数，那有没有比较小一点的方法呢。</p><h4 id="幂的连乘"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#幂的连乘"><span class="icon icon-link"></span></a>幂的连乘</h4><ul><li>上面两种办法都不太可行</li><li>我们需要一种既不让数组变得太大，也不能让冲突出现的概率太大的方法。</li><li>那就是使用幂的连乘, 什么是幂的连乘呢?</li><li>其实我们平时使用的大于10的数字, 可以用一种幂的连乘来表示它的唯一性:比如: <code>7654 = 7*10³+6*10²+5*10+4</code></li><li>我们的单词也可以使用这种方案来表示: 比如jack = <code>10*27³+1*27²+3*27+11=197651</code></li><li>这样得到的数字可以几乎保证它的唯一性, 不会和别的单词重复.</li><li>但是如果一个单词是zzzzzzzzzzzz，这个数仍然超级大，所以这种方式虽然缓解了上面两种方式的问题，但是仍然存在一个超大数。没必要那么大的数组，jack在数组中附近存储表示的值也不一定是一个单词，没有意义。</li></ul><p><img src="https://cdn.jsdelivr.net/gh/ObjectX-9/DrawingBed/imgMac/aa26f07094554fddba06f1f44c7fceb4~tplv-k3u1fbpfcp-jj-mark%3A0%3A0%3A0%3A0%3Aq75.png" alt="image.png"/></p><ul><li><p>两种方案总结:</p><ul><li>第一种方案(把数字相加求和)产生的数组下标太少.</li><li>第二种方案(把数字相乘)产生的数组下标超大，.</li><li>第二种方案(与27的幂相乘求和)产生的数组下标又太多.</li></ul></li></ul><h2 id="3认识哈希化"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#3认识哈希化"><span class="icon icon-link"></span></a>3.认识哈希化</h2><p>我们一般不会开辟很大的存储空间，一般只会比需要的数量多一些。</p><ul><li>哈希化: 将大数字转化成数组范围内下标的过程, 我们就称之为哈希化.</li></ul><h1 id="-三、哈希冲突是什么？如何解决？"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#-三、哈希冲突是什么？如何解决？"><span class="icon icon-link"></span></a>🍒 三、哈希冲突是什么？如何解决？</h1><p>就是在我们计算存储在哪个位置的，时候，不同的单词可能会计算出同样的位置，这就叫做冲突，我们需要一些策略去解决这个冲突，不是让冲突不发生，而是换一种方式去存储数据。冲突是不可避免的。</p><h2 id="1什么是冲突？"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#1什么是冲突？"><span class="icon icon-link"></span></a>1.什么是冲突？</h2><p>冲突是指在哈希表中两个或多个不同的键被哈希函数映射到了同一个位置的情况。这种情况会导致数据存储和检索的混乱，因为无法确定具体的键值对应的位置。冲突通常发生在哈希函数无法将键均匀地映射到哈希表的情况下，或者哈希表的容量不足以容纳所有的键，那如何解决冲突呢？</p><p>有几种常见的方法可以解决哈希表中的冲突：</p><ol><li><strong>链地址法（Separate Chaining）</strong> ：将哈希表的每个槽（slot）作为一个链表的头节点，当发生冲突时，将新的键值对插入到对应槽的链表中。这样，每个槽都可以容纳多个键值对，不同键值对通过链表进行连接。</li><li><strong>开放寻址法（Open Addressing）</strong> ：当发生冲突时，通过一个探测序列（probing sequence）在哈希表中寻找下一个可用的槽位，直到找到一个空槽或者遍历完整个哈希表。常见的探测序列包括线性探测、二次探测和双重散列等。</li><li><strong>再哈希（Rehashing）</strong> ：当哈希表的负载因子（load factor）超过某个阈值时，可以对哈希表进行扩容，并重新计算已有键值对的哈希值和位置，将它们插入到新的哈希表中。这样可以减少冲突的概率。</li><li><strong>建立公共溢出区（Overflow Area）</strong> ：将所有发生冲突的键值对都放入一个公共的溢出区，这样哈希表中的每个槽都只包含一个键值对。虽然这种方法简单，但可能会导致溢出区的性能问题。</li></ol><h2 id="2链地址法"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#2链地址法"><span class="icon icon-link"></span></a>2.链地址法</h2><p>链地址法（Separate Chaining）是一种解决哈希表冲突的方法，它通过将哈希表的每个槽（slot）作为一个链表的头节点，将哈希值相同的键值对存储在同一个链表中。</p><p><img src="https://cdn.jsdelivr.net/gh/ObjectX-9/DrawingBed/imgMac/da9abea4b28a4d969d5084017432f74b~tplv-k3u1fbpfcp-jj-mark%3A0%3A0%3A0%3A0%3Aq75.png" alt="image.png"/></p><p>当发生冲突时，新的键值对被插入到对应槽的链表中，而不是直接插入到槽中。 链地址法的实现步骤如下：</p><ol><li><strong>初始化哈希表</strong>：创建一个数组，数组的每个元素称为槽，每个槽的初始值为一个空链表。</li><li><strong>插入键值对</strong>：对于要插入的键值对，首先计算其哈希值，并根据哈希值找到对应的槽。然后，将键值对插入到该槽对应的链表中。</li><li><strong>查找键值对</strong>：对于要查找的键，同样计算其哈希值，并根据哈希值找到对应的槽。然后，在该槽对应的链表中查找键值对。</li><li><strong>删除键值对</strong>：对于要删除的键，同样计算其哈希值，并根据哈希值找到对应的槽。然后，在该槽对应的链表中删除键值对。</li></ol><p>链地址法的优点是简单易实现，适用于存储冲突较少的情况。然而，当冲突较为频繁时，链表会变得很长，影响查找效率。因此，在设计哈希表时，需要根据实际情况选择合适的解决冲突方法。</p><h2 id="3开放地址法"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#3开放地址法"><span class="icon icon-link"></span></a>3.开放地址法</h2><p>开放地址法（Open Addressing）是一种解决哈希表冲突的方法，它不使用链表，而是尝试在哈希表中寻找其他空槽来存储发生冲突的键值对。具体的实现方式包括线性探测、二次探测和再哈希法等。<img src="https://cdn.jsdelivr.net/gh/ObjectX-9/DrawingBed/imgMac/b375d0bd93094730b501a0cd99a51367~tplv-k3u1fbpfcp-jj-mark%3A0%3A0%3A0%3A0%3Aq75.png" alt="image.png"/></p><ol><li><strong>线性探测（Linear Probing）</strong> ：当发生冲突时，线性探测会依次检查哈希表中的下一个位置，直到找到一个空槽或者遍历完整个哈希表。插入时通过 <code>index = (index + 1) % tableSize</code> 来寻找下一个位置。查找时也是类似的方式进行。</li><li><strong>二次探测（Quadratic Probing）</strong> ：二次探测在发生冲突时，通过二次函数来计算下一个探测位置，例如 <code>index = (index + i^2) % tableSize</code>。这种方法可以减少线性探测中的聚集现象，即连续探测到的位置都发生冲突的情况。</li><li><strong>再哈希法（Double Hashing）</strong> ：再哈希法使用两个哈希函数来计算下一个探测位置，例如 <code>index = (index + hash2(key)) % tableSize</code>。其中，<code>hash2(key)</code> 是第二个哈希函数的计算结果。这种方法可以更加均匀地分布键值对，减少冲突。</li></ol><p>在使用开放地址法时，需要注意以下几点：</p><ul><li>哈希表的容量需要足够大，以便在发生冲突时能够找到合适的空槽。</li><li>删除操作需要特殊处理，通常将删除的位置标记为已删除，并在查找时跳过这些位置。</li><li>负载因子需要控制在一定范围内，以保证哈希表的性能。</li></ul><p>开放地址法相对于链地址法的优点是节省了链表结构的空间开销，但在冲突较为频繁时，可能会导致性能下降。因此，需要根据实际情况选择合适的解决冲突方法。</p><h3 id="线性探测"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#线性探测"><span class="icon icon-link"></span></a>线性探测</h3><p>线性探测是一种开放地址法中解决哈希冲突的方法。当发生冲突时，线性探测会依次检查哈希表中的下一个位置，直到找到一个空槽或者遍历完整个哈希表。具体的实现方式是通过增加一个固定的步长来寻找下一个位置，通常步长为1。</p><p>下面是线性探测的详细步骤：</p><ol><li><p><strong>插入操作</strong>：当要插入一个键值对时，首先计算键的哈希值，然后计算出对应的初始位置。如果初始位置为空，则直接插入；如果不为空，则循环查找下一个位置，直到找到一个空槽为止。</p><p>具体的查找方式是通过以下公式计算下一个位置：<code>index = (index + 1) % tableSize</code>。其中，<code>index</code> 是当前位置，<code>tableSize</code> 是哈希表的大小。</p></li><li><p><strong>查找操作</strong>：当要查找一个键时，首先计算键的哈希值，然后计算出对应的初始位置。然后，循环查找下一个位置，直到找到匹配的键或者遍历完整个哈希表。</p><p>具体的查找方式与插入操作类似，通过以下公式计算下一个位置：<code>index = (index + 1) % tableSize</code>。</p></li><li><p><strong>删除操作</strong>：删除操作比较复杂，因为直接删除会导致后续查找失败。通常的做法是将要删除的位置标记为已删除，而不是直接删除。在查找时，遇到已删除的位置会继续向后查找。</p></li></ol><p>对于这个例子来说，如果在插入53，则会插入到33后面位置</p><p><img src="https://cdn.jsdelivr.net/gh/ObjectX-9/DrawingBed/imgMac/3a8d72bec5724e69b4edad61a9d588fc~tplv-k3u1fbpfcp-jj-mark%3A0%3A0%3A0%3A0%3Aq75.png" alt="image.png"/></p><p>再插入一个63的话，依次向下找，然后放置在45之后</p><p>线性探测的优点是实现简单，易于理解和实现。然而，它容易产生聚集现象（clustering），即连续位置上的元素密集分布，导致性能下降。为了减少聚集现象，可以采用二次探测或双重散列等方法。</p><h3 id="二次探测"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#二次探测"><span class="icon icon-link"></span></a>二次探测</h3><p>二次探测（Quadratic Probing）是一种开放地址法中解决哈希冲突的方法。与线性探测不同，二次探测在发生冲突时，通过一个二次函数来计算下一个探测位置，而不是简单地逐个检查下一个位置。</p><p>具体来说，二次探测的步骤如下：</p><ol><li><p><strong>插入操作</strong>：当要插入一个键值对时，首先计算键的哈希值，然后计算出对应的初始位置。如果初始位置为空，则直接插入；如果不为空，则使用二次探测找到下一个空槽。</p><p>具体的查找方式是通过以下公式计算下一个位置：<code>index = (index + i^2) % tableSize</code>，其中，<code>index</code> 是当前位置，<code>i</code> 是探测的步长，<code>tableSize</code> 是哈希表的大小。初始时，<code>i</code> 取值为1，如果位置不为空，则递增 <code>i</code> 并重新计算下一个位置，直到找到空槽或者遍历完整个哈希表。</p></li><li><p><strong>查找操作</strong>：当要查找一个键时，也是使用类似的方式进行二次探测，直到找到匹配的键或者遍历完整个哈希表。</p></li><li><p><strong>删除操作</strong>：删除操作与线性探测类似，通常不直接删除，而是标记为已删除。</p></li></ol><p>二次探测相比于线性探测，能够更加均匀地分布键值对，减少了聚集现象，提高了哈希表的性能。但是，需要注意的是，如果哈希表的大小不是素数，并且哈希函数的设计不当，可能会导致探测过程中出现循环，使得某些位置无法被访问到，这种情况称为探测到循环。因此，在实现二次探测时，需要注意选择合适的哈希表大小和哈希函数。</p><p>对于这个例子来说，如果在插入53，判断到3位置已经被占用了，然后使用<code>(3 + 1 ^ 2) % / 10 = 4</code> 来判断，然后将53放在了4位置。</p><p><img src="https://cdn.jsdelivr.net/gh/ObjectX-9/DrawingBed/imgMac/3a8d72bec5724e69b4edad61a9d588fc~tplv-k3u1fbpfcp-jj-mark%3A0%3A0%3A0%3A0%3Aq75-20240615205744949.png" alt="image.png"/></p><p>再插入一个63的话，这个例子展示了二次探测中可能发生的探测循环</p><ul><li>依次向下找<code>(3 + 1 ^ 2) % / 10 = 4</code>，这个位置现在有53，</li><li>继续往后找<code>(3 + 2 ^ 2) % / 10 = 7</code>，也被67占用</li><li><code>(3 + 3 ^ 2) % / 10 = 2</code>，也被占用</li><li><code>(3 + 4 ^ 2) % / 10 = 7</code>，又变成了7，</li><li><code>(3 + 5 ^ 2) % / 10 = 8</code>，</li><li><code>(3 + 6 ^ 2) % / 10 = 9</code>，</li><li><code>(3 + 7 ^ 2) % / 10 = 2</code>，</li><li><code>(3 + 8 ^ 2) % / 10 = 7</code></li><li><code>(3 + 9 ^ 2) % / 10 = 4</code>，</li><li><code>(3 + 10 ^ 2) % / 10 = 3</code>，</li><li><code>(3 + 11 ^ 2) % / 10 = 4</code>，</li></ul><h3 id="探测循环产生的原因和解决办法"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#探测循环产生的原因和解决办法"><span class="icon icon-link"></span></a>探测循环产生的原因和解决办法</h3><p>插入63时发生的探测循环问题在于哈希表的大小<code>tableSize = 10</code>是一个合数，并且二次探测的序列并没有覆盖掉哈希表中的所有可能位置。二次探测序列结束时，某些位置从未被访问过，而有些位置则被访问多次，这就是探测循环的现象。</p><p>具体到这个例子，我们可以看到序列 <code>(3，4，7，2，7，8，9，2，7，4，3，4...)</code> 中的值开始重复。发生这种情况的原因是表大小<code>10</code>和用于二次探测<code>(i^2)</code>的平方项的最小公倍数以外的位置都没被探测到。这说明这个二次探测序列不能覆盖哈希表中的所有位置。</p><p>为什么选用一个质数作为哈希表的大小可以帮助避免探测循环？</p><p>使用质数作为哈希表的大小能减小遇到最大公约数问题的概率，是基于数学中关于素数的一些性质：</p><ol><li><strong>最大公约数（Greatest Common Divisor, GCD）</strong> ：如果两个数的最大公约数为1，称这两个数是<strong>互质</strong>的。两个互质的整数的序列相对于每个数来说是一个完整的序列，即每个数都能通过两数的线性组合表示。</li><li><strong>质数的互质特性</strong>：作为素数，它只能被1和自身整除。这意味着任何小于这个质数的正整数都与这个质数互质。</li><li><strong>哈希表探测</strong>：在开放寻址哈希，特别是线性探测（探测步长为常数）和二次探测（探测步长按二次函数增长）时，想要遍历整个表，探测序列生成的索引应该覆盖到整个哈希表的空间。这意味着探测间隔（即探测步长）和哈希表大小的最大公约数应该为1，这样可以确保探测序列能够到达表中的每一个位置。</li><li><strong>质数和探测步长的关系</strong>：当哈希表的大小为质数时，任何小于哈希表大小的探测步长（不等于1）都与哈希表大小互质。因为互质的关系，任何由这个步长产生的探测序列都将覆盖一次且仅一次哈希表中所有可能的位置，从而保证了当表中还有空位时，我们总能找到一个空的槽位而不会发生探测循环。</li></ol><p>如果哈希表的大小是一个合数，则不难找到一个小于哈希表大小的数与它不互质（即它们有一个除了1之外的共同因子），这将导致一个不完整的探测序列，一些槽位会被反复探测，而其他槽位则可能永远不会被探测。这就是为什么选择质数作为哈希表的大小，尤其是在使用开放寻址法解决哈希冲突时，能够有效避免探测循环的原因。</p><p>在上述解释中，我们假设哈希函数是均匀的，即任何键都等可能地散列到任何一个槽位。实际中，哈希函数的选择也非常重要，因为即使哈希表的大小是一个质数，一个不好的哈希函数仍然可能导致一个不均匀分布的哈希，进而引起不必要的冲突。</p><p>我们来看例子</p><h4 id="线性探测-1"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#线性探测-1"><span class="icon icon-link"></span></a><strong>线性探测</strong></h4><p><strong>线性探测的问题主要是聚集，聚集很多，会导致哈希表的效率变低，并且他的特性决定了他会产生探测循环，但是将表长度和探测长度设置为质数可以一定程度上避免循环</strong></p><p>假设我们有一个使用线性探测策略的哈希表。这里的线性探测意味着每当初始化插入失败（即找到的槽位已经被占用）时，我们就会尝试下一个槽位，探测间隔fixed为1（即每次探测都是往后移一个位置）。</p><p>让我们通过比较两种情况来说明为什么使用素数作为哈希表的大小能减少循环探测的可能性：</p><h5 id="示例1：哈希表大小是合数"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#示例1：哈希表大小是合数"><span class="icon icon-link"></span></a>示例1：哈希表大小是合数</h5><p><strong>步长为质数</strong></p><p>哈希表的大小（N）是10（一个合数），我们将考虑的数字是0到9</p><p>假设我们的哈希函数h(k)就是简单地取模：<code>index = i * i % 10</code>。</p><p>现在假设有一系列的插入操作，且键都映射到了哈希表的同一位置5上（一个明显的哈希冲突）。按照线性探测，我们会依次检查位置重复这个模式，``形成了一个循环探测，正好遍历了所有位置。</p><p><strong>步长为合数</strong>哈希表的大小（N）是10（一个合数），我们将考虑的数字是0到9。步长为2 假设我们的哈希函数h(k)就是简单地取模：<code>index = (index + 2) % 10</code>。</p><p>现在假设有一系列的插入操作，且键都映射到了哈希表的同一位置5上（一个明显的哈希冲突）。按照线性探测，我们会依次检查位置重复这个模式，<code>7, 9, 1, 3, 5, 7, 9, 1, 3, 5, 7, 9</code> 一直循环，有的位置可能永远也访问不到。</p><h5 id="示例2：哈希表大小是质数"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#示例2：哈希表大小是质数"><span class="icon icon-link"></span></a>示例2：哈希表大小是质数</h5><p><strong>步长为质数</strong>现在设想如果哈希表的大小是11（一个素数），我们将考虑的数字是0到10, 步长为3</p><p>假设我们的哈希函数h(k)就是简单地取模：<code>index = (index + 3) % 11</code>。</p><p>我们再次有一系列的插入操作，且键同样都映射到了哈希表的某一位置。按照线性探测，同样是查看下一个位置：如果5被占用，查看<code>8, 0, 3, 6, 9, 1, 4, 7, 10, 2, 5, </code>正好访问了所有位置。</p><p><strong>步长为合数</strong>现在设想如果哈希表的大小是11（一个素数），我们将考虑的数字是0到10, 步长为2</p><p>假设我们的哈希函数h(k)就是简单地取模：<code>index = (index + 2) % 11</code>。</p><p>我们再次有一系列的插入操作，且键同样都映射到了哈希表的某一位置。按照线性探测，同样是查看下一个位置：如果5被占用，查看<code>7, 9, 0, 2, 5, 7, 9, 0</code>这里就已经开始循环了</p><h4 id="二次探测-1"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#二次探测-1"><span class="icon icon-link"></span></a>二次探测</h4><p>二次探测是另一种解决哈希冲突的开放寻址法，与线性探测不同的是，二次探测的探测序列不是简单的线性序列，而是二次方的形式。设初始哈希值为 <code>h(k)</code>, 则探测序列将是 <code>h(k)</code>, <code>h(k) + 1^2</code>, <code>h(k) + 2^2</code>, <code>h(k) + 3^2</code>, ..., <code>h(k) + i^2</code>, 其中 <code>i</code> 是探测次数。</p><p>这里以 Modulus（哈希表大小）为合数和素数的例子来比较：</p><h5 id="示例1：哈希表大小是合数-1"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#示例1：哈希表大小是合数-1"><span class="icon icon-link"></span></a>示例1：哈希表大小是合数</h5><p>哈希表的大小（N）是10（一个合数），我们将考虑的数字是0到9。</p><p>假设我们的哈希函数h(k)就是简单地取模：<code>index = (index + i^2) % 10</code> i 从1开始。</p><p>现在假设有一系列的插入操作，且键都映射到了哈希表的同一位置5上（一个明显的哈希冲突）。按照线性探测，我们会依次检查位置重复这个模式，产生了探测循环</p><div class="__dumi-default-code-block"><pre class="prism-code language-js" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34" data-71-js-token="(-0-0">(</span><span class="token number" style="color:#36acaa" data-71-js-token="5-0-1">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="+-0-3">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="1-0-5">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="*-0-7">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="1-0-9">1</span><span class="token punctuation" style="color:#393A34" data-71-js-token=")-0-10">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="%-0-12">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="10-0-14">10</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="=-0-17">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="6-0-19">6</span><span class="token plain" data-71-js-token="-0-20"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-71-js-token="-1-0"></span><span class="token punctuation" style="color:#393A34" data-71-js-token="(-1-0">(</span><span class="token number" style="color:#36acaa" data-71-js-token="5-1-1">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="+-1-3">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="2-1-5">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="*-1-7">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="2-1-9">2</span><span class="token punctuation" style="color:#393A34" data-71-js-token=")-1-10">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="%-1-12">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="10-1-14">10</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="=-1-17">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="9-1-19">9</span><span class="token plain" data-71-js-token="-1-20"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-71-js-token="-2-0"></span><span class="token punctuation" style="color:#393A34" data-71-js-token="(-2-0">(</span><span class="token number" style="color:#36acaa" data-71-js-token="5-2-1">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="+-2-3">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="3-2-5">3</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="*-2-7">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="3-2-9">3</span><span class="token punctuation" style="color:#393A34" data-71-js-token=")-2-10">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="%-2-12">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="10-2-14">10</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="=-2-17">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="4-2-19">4</span><span class="token plain" data-71-js-token="-2-20"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-71-js-token="-3-0"></span><span class="token punctuation" style="color:#393A34" data-71-js-token="(-3-0">(</span><span class="token number" style="color:#36acaa" data-71-js-token="5-3-1">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="+-3-3">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="4-3-5">4</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="*-3-7">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="4-3-9">4</span><span class="token punctuation" style="color:#393A34" data-71-js-token=")-3-10">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="%-3-12">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="10-3-14">10</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="=-3-17">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="1-3-19">1</span><span class="token plain" data-71-js-token="-3-20"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-71-js-token="-4-0"></span><span class="token punctuation" style="color:#393A34" data-71-js-token="(-4-0">(</span><span class="token number" style="color:#36acaa" data-71-js-token="5-4-1">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="+-4-3">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="5-4-5">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="*-4-7">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="5-4-9">5</span><span class="token punctuation" style="color:#393A34" data-71-js-token=")-4-10">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="%-4-12">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="10-4-14">10</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="=-4-17">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="0-4-19">0</span><span class="token plain" data-71-js-token="-4-20"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-71-js-token="-5-0"></span><span class="token punctuation" style="color:#393A34" data-71-js-token="(-5-0">(</span><span class="token number" style="color:#36acaa" data-71-js-token="5-5-1">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="+-5-3">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="6-5-5">6</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="*-5-7">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="6-5-9">6</span><span class="token punctuation" style="color:#393A34" data-71-js-token=")-5-10">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="%-5-12">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="10-5-14">10</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="=-5-17">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="1-5-19">1</span><span class="token plain" data-71-js-token="-5-20"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-71-js-token="-6-0"></span><span class="token punctuation" style="color:#393A34" data-71-js-token="(-6-0">(</span><span class="token number" style="color:#36acaa" data-71-js-token="5-6-1">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="+-6-3">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="7-6-5">7</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="*-6-7">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="7-6-9">7</span><span class="token punctuation" style="color:#393A34" data-71-js-token=")-6-10">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="%-6-12">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="10-6-14">10</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="=-6-17">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="4-6-19">4</span><span class="token plain" data-71-js-token="-6-20"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-71-js-token="-7-0"></span><span class="token punctuation" style="color:#393A34" data-71-js-token="(-7-0">(</span><span class="token number" style="color:#36acaa" data-71-js-token="5-7-1">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="+-7-3">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="8-7-5">8</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="*-7-7">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="8-7-9">8</span><span class="token punctuation" style="color:#393A34" data-71-js-token=")-7-10">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="%-7-12">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="10-7-14">10</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="=-7-17">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="9-7-19">9</span><span class="token plain" data-71-js-token="-7-20"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-71-js-token="-8-0"></span><span class="token punctuation" style="color:#393A34" data-71-js-token="(-8-0">(</span><span class="token number" style="color:#36acaa" data-71-js-token="5-8-1">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="+-8-3">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="9-8-5">9</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="*-8-7">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="9-8-9">9</span><span class="token punctuation" style="color:#393A34" data-71-js-token=")-8-10">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="%-8-12">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="10-8-14">10</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="=-8-17">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="6-8-19">6</span><span class="token plain" data-71-js-token="-8-20"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-71-js-token="-9-0"></span><span class="token punctuation" style="color:#393A34" data-71-js-token="(-9-0">(</span><span class="token number" style="color:#36acaa" data-71-js-token="5-9-1">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="+-9-3">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="10-9-5">10</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="*-9-8">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="10-9-10">10</span><span class="token punctuation" style="color:#393A34" data-71-js-token=")-9-12">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="%-9-14">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="10-9-16">10</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="=-9-19">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="5-9-21">5</span><span class="token plain" data-71-js-token="-9-22"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-71-js-token="-10-0"></span><span class="token punctuation" style="color:#393A34" data-71-js-token="(-10-0">(</span><span class="token number" style="color:#36acaa" data-71-js-token="5-10-1">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="+-10-3">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="11-10-5">11</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="*-10-8">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="11-10-10">11</span><span class="token punctuation" style="color:#393A34" data-71-js-token=")-10-12">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="%-10-14">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="10-10-16">10</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="=-10-19">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="6-10-21">6</span><span class="token plain" data-71-js-token="-10-22"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-71-js-token="-11-0"></span><span class="token punctuation" style="color:#393A34" data-71-js-token="(-11-0">(</span><span class="token number" style="color:#36acaa" data-71-js-token="5-11-1">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="+-11-3">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="12-11-5">12</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="*-11-8">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="12-11-10">12</span><span class="token punctuation" style="color:#393A34" data-71-js-token=")-11-12">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="%-11-14">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="10-11-16">10</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="=-11-19">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="9-11-21">9</span><span class="token plain" data-71-js-token="-11-22"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-71-js-token="-12-0"></span><span class="token punctuation" style="color:#393A34" data-71-js-token="(-12-0">(</span><span class="token number" style="color:#36acaa" data-71-js-token="5-12-1">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="+-12-3">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="13-12-5">13</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="*-12-8">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="13-12-10">13</span><span class="token punctuation" style="color:#393A34" data-71-js-token=")-12-12">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="%-12-14">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="10-12-16">10</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-71-js-token="=-12-19">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-71-js-token="4-12-21">4</span></div></pre></div><h5 id="示例2：哈希表大小是质数-1"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#示例2：哈希表大小是质数-1"><span class="icon icon-link"></span></a>示例2：哈希表大小是质数</h5><p>哈希表的大小（N）是11（一个合数），我们将考虑的数字是0到9。</p><p>假设我们的哈希函数h(k)就是简单地取模：<code>index = (index + i^2) % 11</code> i 从1开始。</p><p>现在假设有一系列的插入操作，且键都映射到了哈希表的同一位置5上（一个明显的哈希冲突）。按照线性探测，我们会依次检查位置重复这个模式，产生了探测循环</p><div class="__dumi-default-code-block"><pre class="prism-code language-js" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34" data-72-js-token="(-0-0">(</span><span class="token number" style="color:#36acaa" data-72-js-token="5-0-1">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="+-0-3">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="1-0-5">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="*-0-7">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="1-0-9">1</span><span class="token punctuation" style="color:#393A34" data-72-js-token=")-0-10">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="%-0-12">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="11-0-14">11</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="=-0-17">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="6-0-19">6</span><span class="token plain" data-72-js-token="-0-20"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-72-js-token="-1-0"></span><span class="token punctuation" style="color:#393A34" data-72-js-token="(-1-0">(</span><span class="token number" style="color:#36acaa" data-72-js-token="5-1-1">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="+-1-3">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="2-1-5">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="*-1-7">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="2-1-9">2</span><span class="token punctuation" style="color:#393A34" data-72-js-token=")-1-10">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="%-1-12">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="11-1-14">11</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="=-1-17">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="9-1-19">9</span><span class="token plain" data-72-js-token="-1-20"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-72-js-token="-2-0"></span><span class="token punctuation" style="color:#393A34" data-72-js-token="(-2-0">(</span><span class="token number" style="color:#36acaa" data-72-js-token="5-2-1">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="+-2-3">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="3-2-5">3</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="*-2-7">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="3-2-9">3</span><span class="token punctuation" style="color:#393A34" data-72-js-token=")-2-10">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="%-2-12">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="11-2-14">11</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="=-2-17">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="3-2-19">3</span><span class="token plain" data-72-js-token="-2-20"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-72-js-token="-3-0"></span><span class="token punctuation" style="color:#393A34" data-72-js-token="(-3-0">(</span><span class="token number" style="color:#36acaa" data-72-js-token="5-3-1">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="+-3-3">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="4-3-5">4</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="*-3-7">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="4-3-9">4</span><span class="token punctuation" style="color:#393A34" data-72-js-token=")-3-10">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="%-3-12">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="11-3-14">11</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="=-3-17">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="10-3-19">10</span><span class="token plain" data-72-js-token="-3-21"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-72-js-token="-4-0"></span><span class="token punctuation" style="color:#393A34" data-72-js-token="(-4-0">(</span><span class="token number" style="color:#36acaa" data-72-js-token="5-4-1">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="+-4-3">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="5-4-5">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="*-4-7">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="5-4-9">5</span><span class="token punctuation" style="color:#393A34" data-72-js-token=")-4-10">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="%-4-12">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="11-4-14">11</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="=-4-17">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="8-4-19">8</span><span class="token plain" data-72-js-token="-4-20"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-72-js-token="-5-0"></span><span class="token punctuation" style="color:#393A34" data-72-js-token="(-5-0">(</span><span class="token number" style="color:#36acaa" data-72-js-token="5-5-1">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="+-5-3">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="6-5-5">6</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="*-5-7">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="6-5-9">6</span><span class="token punctuation" style="color:#393A34" data-72-js-token=")-5-10">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="%-5-12">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="11-5-14">11</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="=-5-17">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="8-5-19">8</span><span class="token plain" data-72-js-token="-5-20"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-72-js-token="-6-0"></span><span class="token punctuation" style="color:#393A34" data-72-js-token="(-6-0">(</span><span class="token number" style="color:#36acaa" data-72-js-token="5-6-1">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="+-6-3">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="7-6-5">7</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="*-6-7">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="7-6-9">7</span><span class="token punctuation" style="color:#393A34" data-72-js-token=")-6-10">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="%-6-12">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="11-6-14">11</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="=-6-17">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="10-6-19">10</span><span class="token plain" data-72-js-token="-6-21"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-72-js-token="-7-0"></span><span class="token punctuation" style="color:#393A34" data-72-js-token="(-7-0">(</span><span class="token number" style="color:#36acaa" data-72-js-token="5-7-1">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="+-7-3">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="8-7-5">8</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="*-7-7">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="8-7-9">8</span><span class="token punctuation" style="color:#393A34" data-72-js-token=")-7-10">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="%-7-12">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="11-7-14">11</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="=-7-17">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="3-7-19">3</span><span class="token plain" data-72-js-token="-7-20"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-72-js-token="-8-0"></span><span class="token punctuation" style="color:#393A34" data-72-js-token="(-8-0">(</span><span class="token number" style="color:#36acaa" data-72-js-token="5-8-1">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="+-8-3">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="9-8-5">9</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="*-8-7">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="9-8-9">9</span><span class="token punctuation" style="color:#393A34" data-72-js-token=")-8-10">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="%-8-12">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="11-8-14">11</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="=-8-17">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="9-8-19">9</span><span class="token plain" data-72-js-token="-8-20"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-72-js-token="-9-0"></span><span class="token punctuation" style="color:#393A34" data-72-js-token="(-9-0">(</span><span class="token number" style="color:#36acaa" data-72-js-token="5-9-1">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="+-9-3">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="10-9-5">10</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="*-9-8">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="10-9-10">10</span><span class="token punctuation" style="color:#393A34" data-72-js-token=")-9-12">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="%-9-14">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="11-9-16">11</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="=-9-19">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="6-9-21">6</span><span class="token plain" data-72-js-token="-9-22"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-72-js-token="-10-0"></span><span class="token punctuation" style="color:#393A34" data-72-js-token="(-10-0">(</span><span class="token number" style="color:#36acaa" data-72-js-token="5-10-1">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="+-10-3">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="11-10-5">11</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="*-10-8">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="11-10-10">11</span><span class="token punctuation" style="color:#393A34" data-72-js-token=")-10-12">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="%-10-14">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="11-10-16">11</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="=-10-19">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="5-10-21">5</span><span class="token plain" data-72-js-token="-10-22"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-72-js-token="-11-0"></span><span class="token punctuation" style="color:#393A34" data-72-js-token="(-11-0">(</span><span class="token number" style="color:#36acaa" data-72-js-token="5-11-1">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="+-11-3">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="12-11-5">12</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="*-11-8">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="12-11-10">12</span><span class="token punctuation" style="color:#393A34" data-72-js-token=")-11-12">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="%-11-14">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="11-11-16">11</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="=-11-19">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="6-11-21">6</span><span class="token plain" data-72-js-token="-11-22"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-72-js-token="-12-0"></span><span class="token punctuation" style="color:#393A34" data-72-js-token="(-12-0">(</span><span class="token number" style="color:#36acaa" data-72-js-token="5-12-1">5</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="+-12-3">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="13-12-5">13</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="*-12-8">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="13-12-10">13</span><span class="token punctuation" style="color:#393A34" data-72-js-token=")-12-12">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="%-12-14">%</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="11-12-16">11</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-72-js-token="=-12-19">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-72-js-token="9-12-21">9</span></div></pre></div><h4 id="总结"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#总结"><span class="icon icon-link"></span></a>总结</h4><ul><li>线性探测可以将容器或步长设置为质数，可以探测完整个哈希表。但是当元素聚集之后，查找效率会下降。</li><li>二次探测，无法探测到全部哈希表，即使设置了容量为质数，但是可以缓解聚集带来的效率问题，但也不能完全解决。</li></ul><h3 id="再哈希法"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#再哈希法"><span class="icon icon-link"></span></a>再哈希法</h3><p>再哈希法（Rehashing）是处理哈希表冲突的另一种方法，它使用一系列哈希函数而不只是一个。如果第一个哈希函数导致冲突，再哈希法会尝试第二个哈希函数作为步长，如此类推，直至找到一个没有冲突的槽位。</p><p>基本步骤如下：</p><ol><li><strong>初始哈希</strong>：对于给定的键 <code>k</code>，使用初始哈希函数 <code>hash1(k)</code> 得到哈希表中的位置 <code>i</code>。</li><li><strong>检查冲突</strong>：如果位置 <code>i</code> 未被占用，则直接在 <code>i</code> 位置插入数据。如果位置 <code>i</code> 被占用，则发生了冲突。</li><li><strong>再哈希</strong>：利用第二个哈希函数 <code>hash2(k)</code>，生成一个新的位置。有时，第二个哈希函数会设计成与初始哈希函数不同的序列，以避免两个函数产生相同的模式。生成新位置的方法可能是 <code>i = (hash1(k) + n*hash2(k)) mod table_size</code>，其中 <code>n</code> 是已尝试的次数（通常从1开始）。</li><li><strong>重复检查和再哈希</strong>：重复步骤2和步骤3，直到找到无冲突的位置或达到了尝试次数上限。</li></ol><p>在再哈希中，第二个哈希函数与首个函数有几个重要差别：</p><ul><li><strong>不同的计算方法</strong>：确保新的散列位置与原有散列位置有所不同，减少冲突概率。</li><li><strong>互质</strong>：为了最大化哈希表空间的使用，通常希望确保二次哈希的函数值与哈希表的大小是互质。这样可以在表不满的情况下最终探测到每一个槽位。</li><li><strong>非零值</strong>：应保证二次哈希的函数永远不返回0值，避免可能产生的无限循环。</li></ul><p>再哈希是一种有效的解决哈希表冲突的方式，特别适合于不允许表项移动并且删除操作不频繁的应用场景，因为再哈希可能会使得找到一个元素变得计算量大且复杂。</p><p>再哈希处理冲突的优点是归于它能够更均匀地分散冲突，减小产生聚集的可能性。但其缺点包括可能更加复杂的哈希计算和增加了处理冲突的时间成本。再哈希法的性能很大程度上取决于哈希函数的选择，特别是在冲突频繁的情况下。</p><p>我们并不需要自己去设计，因为业界已经有一种工作很好的哈希函数：</p><ul><li><code>stepSize = constant - (key - constant)</code></li><li>其中<code>constant</code>是质数, 且小于数组的容量.</li><li>例如: <code>stepSize = x - (key % x)</code>, 永远不可能等于0</li></ul><h1 id="🥝-四、为什么装填因子会影响哈希表的效率？"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#🥝-四、为什么装填因子会影响哈希表的效率？"><span class="icon icon-link"></span></a>🥝 四、为什么装填因子会影响哈希表的效率？</h1><p>哈希表的效率在很大程度上依赖于哈希化过程的质量和哈希表结构的设计。这里简要分析几个关键因素：</p><h2 id="装填因子（load-factor）"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#装填因子（load-factor）"><span class="icon icon-link"></span></a>装填因子（Load Factor）</h2><ul><li><strong>定义</strong>：加载因子 <code>λ</code> 定义为 <code>λ = n/k</code>，其中 <code>n</code> 是表中元素的数量，<code>k</code> 是槽位的数量。它衡量了表的&quot;满&quot;程度。</li><li><strong>性能影响</strong>：加载因子越高，从之前的分析中也能看出，产生冲突的概率越高，导致哈希表性能下降。通常，在加载因子达到某个阈值，具体看下文的分析（例如0.7或0.75）时进行扩张。</li></ul><h2 id="几种冲突解决方式的效率分析"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#几种冲突解决方式的效率分析"><span class="icon icon-link"></span></a>几种冲突解决方式的效率分析</h2><p>哈希表解决冲突的几种常见方法包括开放寻址法、链地址法、再哈希等。这些方法各有优缺点，其效率受到很多因素的影响，包括填充因子（Load Factor）。填充因子是当前存储在哈希表中的元素数量与哈希表大小的比值，是衡量哈希表满载程度的一个指标。下面我们来分析这些解决冲突方法的效率以及它们与填充因子的关系。</p><h3 id="1-开放寻址法"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#1-开放寻址法"><span class="icon icon-link"></span></a>1. 开放寻址法</h3><p>当发生冲突时，开放寻址法会在哈希表中寻找空闲的位置来存储当前元素。常见的开放寻址技术有线性探测、二次探测和再哈希等。</p><ul><li><strong>效率分析</strong>：开放寻址法的效率在很大程度上取决于哈希表的填充因子。当填充因子较低时，冲突的几率低，寻找空闲位置的成本也低，故查找、插入和删除操作的效率相对较高。随着填充因子的增加，冲突几率增加，性能逐渐下降，尤其是线性探测，在高填充因子时可能导致较长的探测链，严重影响性能。</li><li><strong>填充因子关系</strong>：一般情况下，为保持开放寻址法的高效性，填充因子不应超过0.7至0.8。</li></ul><h3 id="2-链地址法"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#2-链地址法"><span class="icon icon-link"></span></a>2. 链地址法</h3><p>链地址法是将所有哈希到同一位置的元素存放在一个链表中。当发生冲突时，元素将被添加到该位置的链表中。</p><ul><li><p><strong>效率分析</strong>：链表法的查找效率受到存储元素分布的影响。理想情况下，元素均匀分布，每个位置的链表长度大致相等，这时查找效率较高。但是，随着元素的增加，特定链表可能变长，导致某些查找、插入和删除操作耗时增加。相较于开放寻址法，链表法对高填充因子的容忍度更高，因为其性能主要取决于链表的平均长度，链地址法相对来说效率是好于开放地址法的，所以在真实开发中, 使用链地址法的情况较多, 因为它不会因为添加了某元素后性能急剧下降，大多数语言也是选择链地址法实现的，这也是我们这里实现选择这个的原因.</p></li><li><p><strong>填充因子关系</strong>：尽管链表法能够适应更高的填充因子，但过高的填充因子仍然会导致性能下降，因为长链表的查找时间会增加。</p></li></ul><h3 id="3-再哈希"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#3-再哈希"><span class="icon icon-link"></span></a>3. 再哈希</h3><p>再哈希是开放寻址法的一种，它使用两个哈希函数来决定元素的存储位置和解决冲突。当第一个哈希函数引起冲突时，会计算第二个哈希函数来决定探测的下一个位置。</p><ul><li><strong>效率分析</strong>：再哈希可以减少聚集效应，因为它用第二个哈希函数探测新的空位，相较于线性探测和二次探测，能更好地分散冲突。但是，与所有开放寻址法一样，其效率与填充因子密切相关，填充因子较高时查找空位的成本也随之增加。</li><li><strong>填充因子关系</strong>：双散列法的性能随着填充因子的增加而下降，虽然相较于线性和二次探测有所改善，但建议保持适中的填充因子以维持较高的效率。</li></ul><h2 id="结论"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#结论"><span class="icon icon-link"></span></a>结论</h2><p>下面是一个展示线性探测、二次探测、再哈希和链式存储（分离链接法）在面对不同填充因子（Load Factor）时，对成功查找（查找成功的平均时间复杂度）和失败查找（查找失败或插入新元素的平均时间复杂度）影响的简化表格。需要指出的是，这里的时间复杂度是相对而言，并不是严格的数学公式结果，因为实际表现会受到多种因素的影响，如哈希函数的质量、数据分布等。</p><table><thead><tr><th>解决方案</th><th>填充因子</th><th>成功查找平均时间复杂度</th><th>失败查找平均时间复杂度</th></tr></thead><tbody><tr><td>线性探测</td><td>低 (≤ 0.5)</td><td>接近 O(1)</td><td>接近 O(1)</td></tr><tr><td>线性探测</td><td>高 (&gt; 0.5)</td><td>增长至 O(n)</td><td>增长至 O(n)</td></tr><tr><td>二次探测</td><td>低 (≤ 0.5)</td><td>接近 O(1)</td><td>接近 O(1)</td></tr><tr><td>二次探测</td><td>高 (&gt; 0.5)</td><td>增长，但由于聚集问题较线性探测好</td><td>增长，但由于聚集问题较线性探测好</td></tr><tr><td>再哈希</td><td>低 (≤ 0.5)</td><td>接近 O(1)</td><td>接近 O(1)</td></tr><tr><td>再哈希</td><td>高 (&gt; 0.5)</td><td>略增长，但通常比线性和二次探测要好</td><td>略增长，但通常比线性和二次探测要好</td></tr><tr><td>链式存储</td><td>低 (≤ 0.75)</td><td>接近 O(1)，假设分布均匀</td><td>接近 O(1)，假设分布均匀</td></tr><tr><td>链式存储</td><td>高 (&gt; 0.75)</td><td>增长至 O(n)，在极端情况下</td><td>增长至 O(n)，在极端情况下</td></tr></tbody></table><p>几个结论：</p><ul><li><strong>填充因子</strong>对开放寻址法（线性探测、二次探测、再哈希）的影响较大，因为高填充因子时发生冲突的概率增加，需要更多次探测才能找到空位或目标元素。</li><li><strong>链式存储</strong>对填充因子的容忍度相对较高，经过上面的比较我们可以发现, 链地址法相对来说效率是好于开放地址法的，所以在真实开发中, 使用链地址法的情况较多, 因为它不会因为添加了某元素后性能急剧下降，但是因为它通过链表解决冲突，但如果某个槽位的链表变得很长，性能同样会降低。</li><li>成功和失败的查找或插入操作的平均时间复杂度都会随着填充因子的增加而增加，但不同的解决冲突策略对填充因子的敏感程度不同。</li><li>以上表格中的描述是基于理想化的假设，在实际应用中，具体的性能表现还需要考虑哈希函数的质量、数据的特性等多种因素。</li></ul><h1 id="🥑-五、如何设计哈希函数？"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#🥑-五、如何设计哈希函数？"><span class="icon icon-link"></span></a>🥑 五、如何设计哈希函数？</h1><h2 id="1快速计算"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#1快速计算"><span class="icon icon-link"></span></a>1.快速计算</h2><h3 id="分析下暴力计算多项式的复杂度"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#分析下暴力计算多项式的复杂度"><span class="icon icon-link"></span></a>分析下暴力计算多项式的复杂度</h3><p>我们先来分析一下之前的乘幂的方式计算哈希code的复杂度是多少？ 我们将之前的多项式推广到n词多项式</p><div class="__dumi-default-code-block"><pre class="prism-code language-unknown" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token plain" data-73-unknown-token="10*27³+1*27²+3*27+11=197651-0-0">10*27³+1*27²+3*27+11=197651</span></div></pre></div><p><img src="https://cdn.jsdelivr.net/gh/ObjectX-9/DrawingBed/imgMac/eb14e57cb5a14743921749c6ee0dac48~tplv-k3u1fbpfcp-jj-mark%3A0%3A0%3A0%3A0%3Aq75.png" alt="image.png"/></p><p>我们来看一下这个表达式需要多少次乘法和加法</p><div class="__dumi-default-code-block"><pre class="prism-code language-js" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token number" style="color:#36acaa" data-74-js-token="10-0-0">10</span><span class="token operator" style="color:#393A34" data-74-js-token="*-0-2">*</span><span class="token number" style="color:#36acaa" data-74-js-token="27-0-3">27</span><span class="token plain">³ </span><span class="token operator" style="color:#393A34" data-74-js-token="=-0-7">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-74-js-token="10-0-9">10</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-74-js-token="*-0-12">*</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-74-js-token="(-0-14">(</span><span class="token number" style="color:#36acaa" data-74-js-token="27-0-15">27</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-74-js-token="*-0-18">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-74-js-token="27-0-20">27</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-74-js-token="*-0-23">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-74-js-token="27-0-25">27</span><span class="token punctuation" style="color:#393A34" data-74-js-token=")-0-27">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-74-js-token="=-0-29">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-74-js-token="1-0-31">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-74-js-token="+-0-33">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-74-js-token="2-0-35">2</span><span class="token plain"> 三次</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-74-js-token="-1-0"></span><span class="token number" style="color:#36acaa" data-74-js-token="1-1-0">1</span><span class="token operator" style="color:#393A34" data-74-js-token="*-1-1">*</span><span class="token number" style="color:#36acaa" data-74-js-token="27-1-2">27</span><span class="token plain">²  </span><span class="token operator" style="color:#393A34" data-74-js-token="=-1-7">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-74-js-token="1-1-9">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-74-js-token="*-1-11">*</span><span class="token plain"> （</span><span class="token number" style="color:#36acaa" data-74-js-token="27-1-14">27</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-74-js-token="*-1-17">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-74-js-token="27-1-19">27</span><span class="token plain">） </span><span class="token operator" style="color:#393A34" data-74-js-token="=-1-23">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-74-js-token="1-1-25">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-74-js-token="+-1-27">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-74-js-token="1-1-29">1</span><span class="token plain"> 二次</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-74-js-token="-2-0"></span><span class="token number" style="color:#36acaa" data-74-js-token="3-2-0">3</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-74-js-token="*-2-2">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-74-js-token="27-2-4">27</span><span class="token plain"> 一次</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-74-js-token="乘法总共：-3-0">乘法总共：</span><span class="token number" style="color:#36acaa" data-74-js-token="3-3-5">3</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-74-js-token="+-3-7">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-74-js-token="2-3-9">2</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-74-js-token="+-3-11">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-74-js-token="1-3-13">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-74-js-token="=-3-15">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-74-js-token="6-3-17">6</span><span class="token plain" data-74-js-token="次-3-18">次</span></div></pre></div><p>那推广到n次多项式呢</p><p>a<sub>n</sub>x<sup>n</sup> = 1 + (n - 1)</p><p>a<sub>n-1</sub>x<sup>n-1</sup> = 1 + (n - 2)</p><p>a<sub>n-2</sub>x<sup>n-2</sup> = 1 + (n - 3)</p><p>以此类推，累加起来就是 1 + (n - 1) + 1 + (n - 2) + 1 + (n - 3) .... + 1， 就是一个等差数列，1到n，</p><p><img src="https://cdn.jsdelivr.net/gh/ObjectX-9/DrawingBed/imgMac/4931b6be1b794cf9ac9344756136ba95~tplv-k3u1fbpfcp-jj-mark%3A0%3A0%3A0%3A0%3Aq75.png" alt="image.png"/></p><ul><li>所以这个多项式的乘法计算就是O(n<sup>2</sup>)</li><li>加法的计算就是你n-1，即O(n)的复杂度</li></ul><p>乘法是比较耗时间的，我们需要快速计算的话，最好减少乘法和除法的计算，那有没有什么方法呢，那就是秦九韶算法</p><h3 id="多项式-秦九韶算法"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#多项式-秦九韶算法"><span class="icon icon-link"></span></a>多项式-秦九韶算法</h3><p>秦九韶算法是一种将一元n次多项式转换为n个一次式的简化算法。 我们还是以<code>10*27³+1*27²+3*27+11=197651</code>为例，简单推一下秦九韶算法的计算过程</p><div class="math math-display"><mjx-container className="MathJax" jax="SVG" display="true"><svg style="vertical-align:-0.566ex" xmlns="http://www.w3.org/2000/svg" width="39.087ex" height="2.565ex" role="img" focusable="false" viewBox="0 -883.9 17276.3 1133.9" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-1-TEX-I-1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path><path id="MJX-1-TEX-N-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path id="MJX-1-TEX-I-1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path><path id="MJX-1-TEX-N-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path><path id="MJX-1-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path id="MJX-1-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-1-TEX-N-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path id="MJX-1-TEX-N-2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path><path id="MJX-1-TEX-N-33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path><path id="MJX-1-TEX-N-2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path><path id="MJX-1-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D453" xlink:href="#MJX-1-TEX-I-1D453"></use></g><g data-mml-node="mo" transform="translate(550,0)"><use data-c="28" xlink:href="#MJX-1-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(939,0)"><use data-c="1D465" xlink:href="#MJX-1-TEX-I-1D465"></use></g><g data-mml-node="mo" transform="translate(1511,0)"><use data-c="29" xlink:href="#MJX-1-TEX-N-29"></use></g><g data-mml-node="mo" transform="translate(2177.8,0)"><use data-c="3D" xlink:href="#MJX-1-TEX-N-3D"></use></g><g data-mml-node="mn" transform="translate(3233.6,0)"><use data-c="31" xlink:href="#MJX-1-TEX-N-31"></use><use data-c="30" xlink:href="#MJX-1-TEX-N-30" transform="translate(500,0)"></use></g><g data-mml-node="mo" transform="translate(4455.8,0)"><use data-c="2217" xlink:href="#MJX-1-TEX-N-2217"></use></g><g data-mml-node="msup" transform="translate(5178,0)"><g data-mml-node="mi"><use data-c="1D465" xlink:href="#MJX-1-TEX-I-1D465"></use></g><g data-mml-node="mn" transform="translate(605,413) scale(0.707)"><use data-c="33" xlink:href="#MJX-1-TEX-N-33"></use></g></g><g data-mml-node="mo" transform="translate(6408.8,0)"><use data-c="2B" xlink:href="#MJX-1-TEX-N-2B"></use></g><g data-mml-node="mn" transform="translate(7409,0)"><use data-c="31" xlink:href="#MJX-1-TEX-N-31"></use></g><g data-mml-node="mo" transform="translate(8131.2,0)"><use data-c="2217" xlink:href="#MJX-1-TEX-N-2217"></use></g><g data-mml-node="msup" transform="translate(8853.4,0)"><g data-mml-node="mi"><use data-c="1D465" xlink:href="#MJX-1-TEX-I-1D465"></use></g><g data-mml-node="mn" transform="translate(605,413) scale(0.707)"><use data-c="32" xlink:href="#MJX-1-TEX-N-32"></use></g></g><g data-mml-node="mo" transform="translate(10084.2,0)"><use data-c="2B" xlink:href="#MJX-1-TEX-N-2B"></use></g><g data-mml-node="mn" transform="translate(11084.4,0)"><use data-c="33" xlink:href="#MJX-1-TEX-N-33"></use></g><g data-mml-node="mo" transform="translate(11806.7,0)"><use data-c="2217" xlink:href="#MJX-1-TEX-N-2217"></use></g><g data-mml-node="mi" transform="translate(12528.9,0)"><use data-c="1D465" xlink:href="#MJX-1-TEX-I-1D465"></use></g><g data-mml-node="mo" transform="translate(13323.1,0)"><use data-c="2B" xlink:href="#MJX-1-TEX-N-2B"></use></g><g data-mml-node="mn" transform="translate(14323.3,0)"><use data-c="31" xlink:href="#MJX-1-TEX-N-31"></use><use data-c="31" xlink:href="#MJX-1-TEX-N-31" transform="translate(500,0)"></use></g><g data-mml-node="mo" transform="translate(15545.6,0)"><use data-c="2217" xlink:href="#MJX-1-TEX-N-2217"></use></g><g data-mml-node="msup" transform="translate(16267.8,0)"><g data-mml-node="mi"><use data-c="1D465" xlink:href="#MJX-1-TEX-I-1D465"></use></g><g data-mml-node="mn" transform="translate(605,413) scale(0.707)"><use data-c="30" xlink:href="#MJX-1-TEX-N-30"></use></g></g></g></g></svg></mjx-container></div><div class="math math-display"><mjx-container className="MathJax" jax="SVG" display="true"><svg style="vertical-align:-0.566ex" xmlns="http://www.w3.org/2000/svg" width="30.514ex" height="2.565ex" role="img" focusable="false" viewBox="0 -883.9 13487 1133.9" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-2-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path id="MJX-2-TEX-I-1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path><path id="MJX-2-TEX-N-2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path><path id="MJX-2-TEX-N-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path id="MJX-2-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-2-TEX-N-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path id="MJX-2-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path id="MJX-2-TEX-N-2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path><path id="MJX-2-TEX-N-33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path><path id="MJX-2-TEX-N-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3D" xlink:href="#MJX-2-TEX-N-3D"></use></g><g data-mml-node="mi" transform="translate(1055.8,0)"><use data-c="1D465" xlink:href="#MJX-2-TEX-I-1D465"></use></g><g data-mml-node="mo" transform="translate(1850,0)"><use data-c="2217" xlink:href="#MJX-2-TEX-N-2217"></use></g><g data-mml-node="mo" transform="translate(2572.2,0)"><use data-c="28" xlink:href="#MJX-2-TEX-N-28"></use></g><g data-mml-node="mn" transform="translate(2961.2,0)"><use data-c="31" xlink:href="#MJX-2-TEX-N-31"></use><use data-c="30" xlink:href="#MJX-2-TEX-N-30" transform="translate(500,0)"></use></g><g data-mml-node="mo" transform="translate(4183.4,0)"><use data-c="2217" xlink:href="#MJX-2-TEX-N-2217"></use></g><g data-mml-node="msup" transform="translate(4905.7,0)"><g data-mml-node="mi"><use data-c="1D465" xlink:href="#MJX-2-TEX-I-1D465"></use></g><g data-mml-node="mn" transform="translate(605,413) scale(0.707)"><use data-c="32" xlink:href="#MJX-2-TEX-N-32"></use></g></g><g data-mml-node="mo" transform="translate(6136.4,0)"><use data-c="2B" xlink:href="#MJX-2-TEX-N-2B"></use></g><g data-mml-node="mn" transform="translate(7136.7,0)"><use data-c="31" xlink:href="#MJX-2-TEX-N-31"></use></g><g data-mml-node="mo" transform="translate(7858.9,0)"><use data-c="2217" xlink:href="#MJX-2-TEX-N-2217"></use></g><g data-mml-node="mi" transform="translate(8581.1,0)"><use data-c="1D465" xlink:href="#MJX-2-TEX-I-1D465"></use></g><g data-mml-node="mo" transform="translate(9375.3,0)"><use data-c="2B" xlink:href="#MJX-2-TEX-N-2B"></use></g><g data-mml-node="mn" transform="translate(10375.6,0)"><use data-c="33" xlink:href="#MJX-2-TEX-N-33"></use></g><g data-mml-node="mo" transform="translate(10875.6,0)"><use data-c="29" xlink:href="#MJX-2-TEX-N-29"></use></g><g data-mml-node="mo" transform="translate(11486.8,0)"><use data-c="2B" xlink:href="#MJX-2-TEX-N-2B"></use></g><g data-mml-node="mn" transform="translate(12487,0)"><use data-c="31" xlink:href="#MJX-2-TEX-N-31"></use><use data-c="31" xlink:href="#MJX-2-TEX-N-31" transform="translate(500,0)"></use></g></g></g></svg></mjx-container></div><div class="math math-display"><mjx-container className="MathJax" jax="SVG" display="true"><svg style="vertical-align:-0.566ex" xmlns="http://www.w3.org/2000/svg" width="31.286ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 13828.4 1000" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-3-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path id="MJX-3-TEX-I-1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path><path id="MJX-3-TEX-N-2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path><path id="MJX-3-TEX-N-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path id="MJX-3-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-3-TEX-N-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path id="MJX-3-TEX-N-2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path><path id="MJX-3-TEX-N-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path><path id="MJX-3-TEX-N-33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mo"><use data-c="3D" xlink:href="#MJX-3-TEX-N-3D"></use></g><g data-mml-node="mi" transform="translate(1055.8,0)"><use data-c="1D465" xlink:href="#MJX-3-TEX-I-1D465"></use></g><g data-mml-node="mo" transform="translate(1850,0)"><use data-c="2217" xlink:href="#MJX-3-TEX-N-2217"></use></g><g data-mml-node="mo" transform="translate(2572.2,0)"><use data-c="28" xlink:href="#MJX-3-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(2961.2,0)"><use data-c="1D465" xlink:href="#MJX-3-TEX-I-1D465"></use></g><g data-mml-node="mo" transform="translate(3755.4,0)"><use data-c="2217" xlink:href="#MJX-3-TEX-N-2217"></use></g><g data-mml-node="mo" transform="translate(4477.7,0)"><use data-c="28" xlink:href="#MJX-3-TEX-N-28"></use></g><g data-mml-node="mn" transform="translate(4866.7,0)"><use data-c="31" xlink:href="#MJX-3-TEX-N-31"></use><use data-c="30" xlink:href="#MJX-3-TEX-N-30" transform="translate(500,0)"></use></g><g data-mml-node="mo" transform="translate(6088.9,0)"><use data-c="2217" xlink:href="#MJX-3-TEX-N-2217"></use></g><g data-mml-node="mi" transform="translate(6811.1,0)"><use data-c="1D465" xlink:href="#MJX-3-TEX-I-1D465"></use></g><g data-mml-node="mo" transform="translate(7605.3,0)"><use data-c="2B" xlink:href="#MJX-3-TEX-N-2B"></use></g><g data-mml-node="mn" transform="translate(8605.6,0)"><use data-c="31" xlink:href="#MJX-3-TEX-N-31"></use></g><g data-mml-node="mo" transform="translate(9105.6,0)"><use data-c="29" xlink:href="#MJX-3-TEX-N-29"></use></g><g data-mml-node="mo" transform="translate(9716.8,0)"><use data-c="2B" xlink:href="#MJX-3-TEX-N-2B"></use></g><g data-mml-node="mn" transform="translate(10717,0)"><use data-c="33" xlink:href="#MJX-3-TEX-N-33"></use></g><g data-mml-node="mo" transform="translate(11217,0)"><use data-c="29" xlink:href="#MJX-3-TEX-N-29"></use></g><g data-mml-node="mo" transform="translate(11828.2,0)"><use data-c="2B" xlink:href="#MJX-3-TEX-N-2B"></use></g><g data-mml-node="mn" transform="translate(12828.4,0)"><use data-c="31" xlink:href="#MJX-3-TEX-N-31"></use><use data-c="31" xlink:href="#MJX-3-TEX-N-31" transform="translate(500,0)"></use></g></g></g></svg></mjx-container></div><p>则,计算f(27)从内到外逐层计算</p><div class="math math-display"><mjx-container className="MathJax" jax="SVG" display="true"><svg style="vertical-align:-0.186ex" xmlns="http://www.w3.org/2000/svg" width="16.969ex" height="1.715ex" role="img" focusable="false" viewBox="0 -676 7500.4 758" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-4-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-4-TEX-N-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path id="MJX-4-TEX-N-2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path><path id="MJX-4-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path id="MJX-4-TEX-N-37" d="M55 458Q56 460 72 567L88 674Q88 676 108 676H128V672Q128 662 143 655T195 646T364 644H485V605L417 512Q408 500 387 472T360 435T339 403T319 367T305 330T292 284T284 230T278 162T275 80Q275 66 275 52T274 28V19Q270 2 255 -10T221 -22Q210 -22 200 -19T179 0T168 40Q168 198 265 368Q285 400 349 489L395 552H302Q128 552 119 546Q113 543 108 522T98 479L95 458V455H55V458Z"></path><path id="MJX-4-TEX-N-2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path><path id="MJX-4-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mn"><use data-c="31" xlink:href="#MJX-4-TEX-N-31"></use><use data-c="30" xlink:href="#MJX-4-TEX-N-30" transform="translate(500,0)"></use></g><g data-mml-node="mo" transform="translate(1222.2,0)"><use data-c="2217" xlink:href="#MJX-4-TEX-N-2217"></use></g><g data-mml-node="mn" transform="translate(1944.4,0)"><use data-c="32" xlink:href="#MJX-4-TEX-N-32"></use><use data-c="37" xlink:href="#MJX-4-TEX-N-37" transform="translate(500,0)"></use></g><g data-mml-node="mo" transform="translate(3166.7,0)"><use data-c="2B" xlink:href="#MJX-4-TEX-N-2B"></use></g><g data-mml-node="mn" transform="translate(4166.9,0)"><use data-c="31" xlink:href="#MJX-4-TEX-N-31"></use></g><g data-mml-node="mo" transform="translate(4944.7,0)"><use data-c="3D" xlink:href="#MJX-4-TEX-N-3D"></use></g><g data-mml-node="mn" transform="translate(6000.4,0)"><use data-c="32" xlink:href="#MJX-4-TEX-N-32"></use><use data-c="37" xlink:href="#MJX-4-TEX-N-37" transform="translate(500,0)"></use><use data-c="31" xlink:href="#MJX-4-TEX-N-31" transform="translate(1000,0)"></use></g></g></g></svg></mjx-container></div><p>则原式等于</p><div class="math math-display"><mjx-container className="MathJax" jax="SVG" display="true"><svg style="vertical-align:-0.566ex" xmlns="http://www.w3.org/2000/svg" width="31.614ex" height="2.262ex" role="img" focusable="false" viewBox="0 -750 13973.3 1000" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-5-TEX-I-1D453" d="M118 -162Q120 -162 124 -164T135 -167T147 -168Q160 -168 171 -155T187 -126Q197 -99 221 27T267 267T289 382V385H242Q195 385 192 387Q188 390 188 397L195 425Q197 430 203 430T250 431Q298 431 298 432Q298 434 307 482T319 540Q356 705 465 705Q502 703 526 683T550 630Q550 594 529 578T487 561Q443 561 443 603Q443 622 454 636T478 657L487 662Q471 668 457 668Q445 668 434 658T419 630Q412 601 403 552T387 469T380 433Q380 431 435 431Q480 431 487 430T498 424Q499 420 496 407T491 391Q489 386 482 386T428 385H372L349 263Q301 15 282 -47Q255 -132 212 -173Q175 -205 139 -205Q107 -205 81 -186T55 -132Q55 -95 76 -78T118 -61Q162 -61 162 -103Q162 -122 151 -136T127 -157L118 -162Z"></path><path id="MJX-5-TEX-N-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path id="MJX-5-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path id="MJX-5-TEX-N-37" d="M55 458Q56 460 72 567L88 674Q88 676 108 676H128V672Q128 662 143 655T195 646T364 644H485V605L417 512Q408 500 387 472T360 435T339 403T319 367T305 330T292 284T284 230T278 162T275 80Q275 66 275 52T274 28V19Q270 2 255 -10T221 -22Q210 -22 200 -19T179 0T168 40Q168 198 265 368Q285 400 349 489L395 552H302Q128 552 119 546Q113 543 108 522T98 479L95 458V455H55V458Z"></path><path id="MJX-5-TEX-N-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path><path id="MJX-5-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path id="MJX-5-TEX-I-1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path><path id="MJX-5-TEX-N-2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path><path id="MJX-5-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-5-TEX-N-2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path><path id="MJX-5-TEX-N-33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path><path id="MJX-5-TEX-N-3B" d="M78 370Q78 394 95 412T138 430Q162 430 180 414T199 371Q199 346 182 328T139 310T96 327T78 370ZM78 60Q78 85 94 103T137 121Q202 121 202 8Q202 -44 183 -94T144 -169T118 -194Q115 -194 106 -186T95 -174Q94 -171 107 -155T137 -107T160 -38Q161 -32 162 -22T165 -4T165 4Q165 5 161 4T142 0Q110 0 94 18T78 60Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D453" xlink:href="#MJX-5-TEX-I-1D453"></use></g><g data-mml-node="mo" transform="translate(550,0)"><use data-c="28" xlink:href="#MJX-5-TEX-N-28"></use></g><g data-mml-node="mn" transform="translate(939,0)"><use data-c="32" xlink:href="#MJX-5-TEX-N-32"></use><use data-c="37" xlink:href="#MJX-5-TEX-N-37" transform="translate(500,0)"></use></g><g data-mml-node="mo" transform="translate(1939,0)"><use data-c="29" xlink:href="#MJX-5-TEX-N-29"></use></g><g data-mml-node="mo" transform="translate(2605.8,0)"><use data-c="3D" xlink:href="#MJX-5-TEX-N-3D"></use></g><g data-mml-node="mi" transform="translate(3661.6,0)"><use data-c="1D465" xlink:href="#MJX-5-TEX-I-1D465"></use></g><g data-mml-node="mo" transform="translate(4455.8,0)"><use data-c="2217" xlink:href="#MJX-5-TEX-N-2217"></use></g><g data-mml-node="mo" transform="translate(5178,0)"><use data-c="28" xlink:href="#MJX-5-TEX-N-28"></use></g><g data-mml-node="mo" transform="translate(5567,0)"><use data-c="28" xlink:href="#MJX-5-TEX-N-28"></use></g><g data-mml-node="mi" transform="translate(5956,0)"><use data-c="1D465" xlink:href="#MJX-5-TEX-I-1D465"></use></g><g data-mml-node="mo" transform="translate(6750.2,0)"><use data-c="2217" xlink:href="#MJX-5-TEX-N-2217"></use></g><g data-mml-node="mn" transform="translate(7472.4,0)"><use data-c="32" xlink:href="#MJX-5-TEX-N-32"></use><use data-c="37" xlink:href="#MJX-5-TEX-N-37" transform="translate(500,0)"></use><use data-c="31" xlink:href="#MJX-5-TEX-N-31" transform="translate(1000,0)"></use></g><g data-mml-node="mo" transform="translate(8972.4,0)"><use data-c="29" xlink:href="#MJX-5-TEX-N-29"></use></g><g data-mml-node="mo" transform="translate(9583.7,0)"><use data-c="2B" xlink:href="#MJX-5-TEX-N-2B"></use></g><g data-mml-node="mn" transform="translate(10583.9,0)"><use data-c="33" xlink:href="#MJX-5-TEX-N-33"></use></g><g data-mml-node="mo" transform="translate(11083.9,0)"><use data-c="29" xlink:href="#MJX-5-TEX-N-29"></use></g><g data-mml-node="mo" transform="translate(11695.1,0)"><use data-c="2B" xlink:href="#MJX-5-TEX-N-2B"></use></g><g data-mml-node="mn" transform="translate(12695.3,0)"><use data-c="31" xlink:href="#MJX-5-TEX-N-31"></use><use data-c="31" xlink:href="#MJX-5-TEX-N-31" transform="translate(500,0)"></use></g><g data-mml-node="mo" transform="translate(13695.3,0)"><use data-c="3B" xlink:href="#MJX-5-TEX-N-3B"></use></g></g></g></svg></mjx-container></div><p>再计算<code>x*271</code></p><div class="math math-display"><mjx-container className="MathJax" jax="SVG" display="true"><svg style="vertical-align:-0.186ex" xmlns="http://www.w3.org/2000/svg" width="18.263ex" height="1.715ex" role="img" focusable="false" viewBox="0 -676 8072.4 758" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-6-TEX-I-1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path><path id="MJX-6-TEX-N-2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path><path id="MJX-6-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path id="MJX-6-TEX-N-37" d="M55 458Q56 460 72 567L88 674Q88 676 108 676H128V672Q128 662 143 655T195 646T364 644H485V605L417 512Q408 500 387 472T360 435T339 403T319 367T305 330T292 284T284 230T278 162T275 80Q275 66 275 52T274 28V19Q270 2 255 -10T221 -22Q210 -22 200 -19T179 0T168 40Q168 198 265 368Q285 400 349 489L395 552H302Q128 552 119 546Q113 543 108 522T98 479L95 458V455H55V458Z"></path><path id="MJX-6-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-6-TEX-N-2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path><path id="MJX-6-TEX-N-33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path><path id="MJX-6-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path id="MJX-6-TEX-N-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D465" xlink:href="#MJX-6-TEX-I-1D465"></use></g><g data-mml-node="mo" transform="translate(794.2,0)"><use data-c="2217" xlink:href="#MJX-6-TEX-N-2217"></use></g><g data-mml-node="mn" transform="translate(1516.4,0)"><use data-c="32" xlink:href="#MJX-6-TEX-N-32"></use><use data-c="37" xlink:href="#MJX-6-TEX-N-37" transform="translate(500,0)"></use><use data-c="31" xlink:href="#MJX-6-TEX-N-31" transform="translate(1000,0)"></use></g><g data-mml-node="mo" transform="translate(3238.7,0)"><use data-c="2B" xlink:href="#MJX-6-TEX-N-2B"></use></g><g data-mml-node="mn" transform="translate(4238.9,0)"><use data-c="33" xlink:href="#MJX-6-TEX-N-33"></use></g><g data-mml-node="mo" transform="translate(5016.7,0)"><use data-c="3D" xlink:href="#MJX-6-TEX-N-3D"></use></g><g data-mml-node="mn" transform="translate(6072.4,0)"><use data-c="37" xlink:href="#MJX-6-TEX-N-37"></use><use data-c="33" xlink:href="#MJX-6-TEX-N-33" transform="translate(500,0)"></use><use data-c="32" xlink:href="#MJX-6-TEX-N-32" transform="translate(1000,0)"></use><use data-c="30" xlink:href="#MJX-6-TEX-N-30" transform="translate(1500,0)"></use></g></g></g></svg></mjx-container></div><p>再计算<code>x*7320</code>，最后结果：</p><div class="math math-display"><mjx-container className="MathJax" jax="SVG" display="true"><svg style="vertical-align:-0.186ex" xmlns="http://www.w3.org/2000/svg" width="37.621ex" height="1.717ex" role="img" focusable="false" viewBox="0 -677 16628.4 759" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="MJX-7-TEX-I-1D465" d="M52 289Q59 331 106 386T222 442Q257 442 286 424T329 379Q371 442 430 442Q467 442 494 420T522 361Q522 332 508 314T481 292T458 288Q439 288 427 299T415 328Q415 374 465 391Q454 404 425 404Q412 404 406 402Q368 386 350 336Q290 115 290 78Q290 50 306 38T341 26Q378 26 414 59T463 140Q466 150 469 151T485 153H489Q504 153 504 145Q504 144 502 134Q486 77 440 33T333 -11Q263 -11 227 52Q186 -10 133 -10H127Q78 -10 57 16T35 71Q35 103 54 123T99 143Q142 143 142 101Q142 81 130 66T107 46T94 41L91 40Q91 39 97 36T113 29T132 26Q168 26 194 71Q203 87 217 139T245 247T261 313Q266 340 266 352Q266 380 251 392T217 404Q177 404 142 372T93 290Q91 281 88 280T72 278H58Q52 284 52 289Z"></path><path id="MJX-7-TEX-N-2217" d="M229 286Q216 420 216 436Q216 454 240 464Q241 464 245 464T251 465Q263 464 273 456T283 436Q283 419 277 356T270 286L328 328Q384 369 389 372T399 375Q412 375 423 365T435 338Q435 325 425 315Q420 312 357 282T289 250L355 219L425 184Q434 175 434 161Q434 146 425 136T401 125Q393 125 383 131T328 171L270 213Q283 79 283 63Q283 53 276 44T250 35Q231 35 224 44T216 63Q216 80 222 143T229 213L171 171Q115 130 110 127Q106 124 100 124Q87 124 76 134T64 161Q64 166 64 169T67 175T72 181T81 188T94 195T113 204T138 215T170 230T210 250L74 315Q65 324 65 338Q65 353 74 363T98 374Q106 374 116 368T171 328L229 286Z"></path><path id="MJX-7-TEX-N-37" d="M55 458Q56 460 72 567L88 674Q88 676 108 676H128V672Q128 662 143 655T195 646T364 644H485V605L417 512Q408 500 387 472T360 435T339 403T319 367T305 330T292 284T284 230T278 162T275 80Q275 66 275 52T274 28V19Q270 2 255 -10T221 -22Q210 -22 200 -19T179 0T168 40Q168 198 265 368Q285 400 349 489L395 552H302Q128 552 119 546Q113 543 108 522T98 479L95 458V455H55V458Z"></path><path id="MJX-7-TEX-N-33" d="M127 463Q100 463 85 480T69 524Q69 579 117 622T233 665Q268 665 277 664Q351 652 390 611T430 522Q430 470 396 421T302 350L299 348Q299 347 308 345T337 336T375 315Q457 262 457 175Q457 96 395 37T238 -22Q158 -22 100 21T42 130Q42 158 60 175T105 193Q133 193 151 175T169 130Q169 119 166 110T159 94T148 82T136 74T126 70T118 67L114 66Q165 21 238 21Q293 21 321 74Q338 107 338 175V195Q338 290 274 322Q259 328 213 329L171 330L168 332Q166 335 166 348Q166 366 174 366Q202 366 232 371Q266 376 294 413T322 525V533Q322 590 287 612Q265 626 240 626Q208 626 181 615T143 592T132 580H135Q138 579 143 578T153 573T165 566T175 555T183 540T186 520Q186 498 172 481T127 463Z"></path><path id="MJX-7-TEX-N-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path id="MJX-7-TEX-N-30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path><path id="MJX-7-TEX-N-2B" d="M56 237T56 250T70 270H369V420L370 570Q380 583 389 583Q402 583 409 568V270H707Q722 262 722 250T707 230H409V-68Q401 -82 391 -82H389H387Q375 -82 369 -68V230H70Q56 237 56 250Z"></path><path id="MJX-7-TEX-N-31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path><path id="MJX-7-TEX-N-3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path><path id="MJX-7-TEX-N-39" d="M352 287Q304 211 232 211Q154 211 104 270T44 396Q42 412 42 436V444Q42 537 111 606Q171 666 243 666Q245 666 249 666T257 665H261Q273 665 286 663T323 651T370 619T413 560Q456 472 456 334Q456 194 396 97Q361 41 312 10T208 -22Q147 -22 108 7T68 93T121 149Q143 149 158 135T173 96Q173 78 164 65T148 49T135 44L131 43Q131 41 138 37T164 27T206 22H212Q272 22 313 86Q352 142 352 280V287ZM244 248Q292 248 321 297T351 430Q351 508 343 542Q341 552 337 562T323 588T293 615T246 625Q208 625 181 598Q160 576 154 546T147 441Q147 358 152 329T172 282Q197 248 244 248Z"></path><path id="MJX-7-TEX-N-36" d="M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601Q351 623 311 626Q240 626 194 566Q147 500 147 364L148 360Q153 366 156 373Q197 433 263 433H267Q313 433 348 414Q372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM257 397Q227 397 205 380T171 335T154 278T148 216Q148 133 160 97T198 39Q222 21 251 21Q302 21 329 59Q342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z"></path><path id="MJX-7-TEX-N-34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z"></path><path id="MJX-7-TEX-N-35" d="M164 157Q164 133 148 117T109 101H102Q148 22 224 22Q294 22 326 82Q345 115 345 210Q345 313 318 349Q292 382 260 382H254Q176 382 136 314Q132 307 129 306T114 304Q97 304 95 310Q93 314 93 485V614Q93 664 98 664Q100 666 102 666Q103 666 123 658T178 642T253 634Q324 634 389 662Q397 666 402 666Q410 666 410 648V635Q328 538 205 538Q174 538 149 544L139 546V374Q158 388 169 396T205 412T256 420Q337 420 393 355T449 201Q449 109 385 44T229 -22Q148 -22 99 32T50 154Q50 178 61 192T84 210T107 214Q132 214 148 197T164 157Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><use data-c="1D465" xlink:href="#MJX-7-TEX-I-1D465"></use></g><g data-mml-node="mo" transform="translate(794.2,0)"><use data-c="2217" xlink:href="#MJX-7-TEX-N-2217"></use></g><g data-mml-node="mn" transform="translate(1516.4,0)"><use data-c="37" xlink:href="#MJX-7-TEX-N-37"></use><use data-c="33" xlink:href="#MJX-7-TEX-N-33" transform="translate(500,0)"></use><use data-c="32" xlink:href="#MJX-7-TEX-N-32" transform="translate(1000,0)"></use><use data-c="30" xlink:href="#MJX-7-TEX-N-30" transform="translate(1500,0)"></use></g><g data-mml-node="mo" transform="translate(3738.7,0)"><use data-c="2B" xlink:href="#MJX-7-TEX-N-2B"></use></g><g data-mml-node="mn" transform="translate(4738.9,0)"><use data-c="31" xlink:href="#MJX-7-TEX-N-31"></use><use data-c="31" xlink:href="#MJX-7-TEX-N-31" transform="translate(500,0)"></use></g><g data-mml-node="mo" transform="translate(6016.7,0)"><use data-c="3D" xlink:href="#MJX-7-TEX-N-3D"></use></g><g data-mml-node="mn" transform="translate(7072.4,0)"><use data-c="31" xlink:href="#MJX-7-TEX-N-31"></use><use data-c="39" xlink:href="#MJX-7-TEX-N-39" transform="translate(500,0)"></use><use data-c="37" xlink:href="#MJX-7-TEX-N-37" transform="translate(1000,0)"></use><use data-c="36" xlink:href="#MJX-7-TEX-N-36" transform="translate(1500,0)"></use><use data-c="34" xlink:href="#MJX-7-TEX-N-34" transform="translate(2000,0)"></use><use data-c="30" xlink:href="#MJX-7-TEX-N-30" transform="translate(2500,0)"></use></g><g data-mml-node="mo" transform="translate(10294.7,0)"><use data-c="2B" xlink:href="#MJX-7-TEX-N-2B"></use></g><g data-mml-node="mn" transform="translate(11294.9,0)"><use data-c="31" xlink:href="#MJX-7-TEX-N-31"></use><use data-c="31" xlink:href="#MJX-7-TEX-N-31" transform="translate(500,0)"></use></g><g data-mml-node="mo" transform="translate(12572.7,0)"><use data-c="3D" xlink:href="#MJX-7-TEX-N-3D"></use></g><g data-mml-node="mn" transform="translate(13628.4,0)"><use data-c="31" xlink:href="#MJX-7-TEX-N-31"></use><use data-c="39" xlink:href="#MJX-7-TEX-N-39" transform="translate(500,0)"></use><use data-c="37" xlink:href="#MJX-7-TEX-N-37" transform="translate(1000,0)"></use><use data-c="36" xlink:href="#MJX-7-TEX-N-36" transform="translate(1500,0)"></use><use data-c="35" xlink:href="#MJX-7-TEX-N-35" transform="translate(2000,0)"></use><use data-c="31" xlink:href="#MJX-7-TEX-N-31" transform="translate(2500,0)"></use></g></g></g></svg></mjx-container></div><h3 id="分析下秦九韶算法的时间复杂度"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#分析下秦九韶算法的时间复杂度"><span class="icon icon-link"></span></a>分析下秦九韶算法的时间复杂度</h3><p>从上面的计算中可以看出，拆解成了三次乘法、三次加法，总共需要至多n次乘法，n次加法。</p><p><img src="https://cdn.jsdelivr.net/gh/ObjectX-9/DrawingBed/imgMac/fe9a3aa047d341ac8b8d85c2d36cc48b~tplv-k3u1fbpfcp-jj-mark%3A0%3A0%3A0%3A0%3Aq75.png" alt="image.png"/></p><p>秦九韶算法作为计算一元n次多项式的最优算法，怎么用代码实现呢？</p><p>首先给定次数和系数就可以唯一确定一个多项式，系数用一个数组存储，数组中的元素下标从 <code>0 - n</code> ，刚好对应存入 <code>a0 - an</code> 。</p><p>秦九韶算法的主要思想是通过多次乘法和加法的组合，将多项式的计算复杂度从 <code>O(n2)</code> 降低到 <code>O(n)</code>，其推导过程如下：</p><p><img src="https://cdn.jsdelivr.net/gh/ObjectX-9/DrawingBed/imgMac/61a6e5a2f41247dc98cb9a154c670b3a~tplv-k3u1fbpfcp-jj-mark%3A0%3A0%3A0%3A0%3Aq75.png" alt="image.png"/></p><p>我们要计算 f(n)，其中 n 是一个给定的值。我们可以将计算过程分解为以下步骤：</p><ol><li>计算 a<sub>k</sub>*n<sup>k<sup></sup></sup></li><li>计算 a<sub>k - 1</sub>*n<sup>k - 1</sup>，并将其与第一步结果相加</li><li>重复以上步骤，直到计算完所有a<sub>i</sub>n<sup>i</sup>的结果</li><li>将所有结果相加得到最终结果</li></ol><p><img src="https://cdn.jsdelivr.net/gh/ObjectX-9/DrawingBed/imgMac/70b2aa88c68646da95212fe73b9cfccb~tplv-k3u1fbpfcp-jj-mark%3A0%3A0%3A0%3A0%3Aq75.png" alt="image.png"/>也就是说：使用秦九韶算法计算一元n次多项式时，乘法运算的时间复杂度为<code>O(n)</code> ,加法运算的时间复杂度为<code>O(n)</code> 。对比暴力算法，大大简化了乘法运算的次数。</p><h2 id="2均匀分布：质数的使用"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#2均匀分布：质数的使用"><span class="icon icon-link"></span></a>2.均匀分布：质数的使用</h2><p>哈希表实现均匀分布主要利用的是，数学上质数的特性，我们在解释哈希冲突的时候简单分析了探测循环产生的原因，这里我们再梳理一遍，质数的特性如下：</p><ol><li><strong>最大公约数（Greatest Common Divisor, GCD）</strong>  ：如果两个数的最大公约数为1，称这两个数是<strong>互质</strong>的。两个互质的整数的序列相对于每个数来说是一个完整的序列，即每个数都能通过两数的线性组合表示。</li><li><strong>质数的互质特性</strong>：作为质数，它只能被1和自身整除。这意味着任何小于这个质数的正整数都与这个素数互质。</li><li><strong>哈希表探测</strong>：在开放寻址哈希，特别是线性探测（探测步长为常数）和二次探测（探测步长按二次函数增长）时，想要遍历整个表，探测序列生成的索引应该覆盖到整个哈希表的空间。这意味着探测间隔（即探测步长）和哈希表大小的最大公约数应该为1，这样可以确保探测序列能够到达表中的每一个位置。</li><li><strong>质数和探测步长的关系</strong>：当哈希表的大小为质数时，任何小于哈希表大小的探测步长（不等于1）都与哈希表大小互质。因为互质的关系，任何由这个步长产生的探测序列都将覆盖一次且仅一次哈希表中所有可能的位置，从而保证了当表中还有空位时，我们总能找到一个空的槽位而不会发生探测循环。</li></ol><h3 id="哈希表的长度为质数"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#哈希表的长度为质数"><span class="icon icon-link"></span></a>哈希表的长度为质数</h3><p>具体看之前分析探测循环产生的原因和解决办法那一节</p><h3 id="n次幂的底数-底数的选择"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#n次幂的底数-底数的选择"><span class="icon icon-link"></span></a>N次幂的底数, 底数的选择</h3><p>选择哈希表的底数（或者称为哈希函数中的乘数）时，特别倾向于使用像37、41、31这样的质数，主要是基于以下几个原因：也是同样的利用质数的原理</p><ol><li><strong>计算效率</strong>：尽管素数的选择可以优化哈希表的性能，但这并不意味着需要非常大的质数。相对较小的质数（如37、41、31）就能够实现良好的均匀分布，并且它们在计算时还能保持较好的效率。即使是较小的质数也能有效避免模式的出现，模式的出现会导致某些键值过于集中于哈希表的特定区域。</li><li><strong>经验和传统</strong>：选择这些特定的质数（如37、41、31）也有一定的经验和传统原因。多年来的实践表明，这些质数在多种情况下都能够提供较好的性能表现。因此，它们被广泛采用并出现在很多教科书和实际应用程序中。</li><li><strong>避免与哈希表大小的关联</strong>：如果哈希表的大小也是一个质数，那么使用另一个无关的质数作为底数有助于进一步分散哈希值。这是为了防止某些输入序列与哈希表大小产生意料之外的关联，进而导致分布不均。</li></ol><h1 id="-六、实现哈希表"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#-六、实现哈希表"><span class="icon icon-link"></span></a>🍑 六、实现哈希表</h1><h2 id="1实现哈希函数"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#1实现哈希函数"><span class="icon icon-link"></span></a>1.实现哈希函数</h2><p>我们这里选择使用的是链式存储，仅需要将大数转为小数，并且使用秦九韶算法优化多项式计算，从上面的分析中我们发现，秦九韶算法的从内到外每一层都是a<sub>i</sub>x + a<sub>i - 1</sub>的格式，因此我们可以通过for循环从内到外实现，用取余实现大数转小数</p><p><img src="https://cdn.jsdelivr.net/gh/ObjectX-9/DrawingBed/imgMac/fae1cd2d9d8e4f9dbd58c95be2d2c967~tplv-k3u1fbpfcp-jj-mark%3A0%3A0%3A0%3A0%3Aq75.png" alt="image.png"/></p><p><img src="https://cdn.jsdelivr.net/gh/ObjectX-9/DrawingBed/imgMac/999692ca3dfb4e269d832e0165590e24~tplv-k3u1fbpfcp-jj-mark%3A0%3A0%3A0%3A0%3Aq75.png" alt="image.png"/></p><div class="__dumi-default-code-block"><pre class="prism-code language-js" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic" data-75-js-token="/**-0-0">/**</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * 设计hash函数</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * 1.将字符串转为大数字，hashCode</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * 2.将大数字hashCode压缩大数组范围(大小)之内：哈希化</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   */</span><span class="token plain" data-75-js-token="-4-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49" data-75-js-token="myHashFunc-5-2">myHashFunc</span><span class="token punctuation" style="color:#393A34" data-75-js-token="(-5-12">(</span><span class="token parameter" data-75-js-token="str-5-13">str</span><span class="token parameter punctuation" style="color:#393A34" data-75-js-token=",-5-16">,</span><span class="token parameter"> arrSize</span><span class="token punctuation" style="color:#393A34" data-75-js-token=")-5-25">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-75-js-token="{-5-27">{</span><span class="token plain" data-75-js-token="-5-28"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 1.定义hashCode变量</span><span class="token plain" data-75-js-token="-6-21"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-75-js-token="let-7-4">let</span><span class="token plain"> hashCode </span><span class="token operator" style="color:#393A34" data-75-js-token="=-7-17">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-75-js-token="0-7-19">0</span><span class="token punctuation" style="color:#393A34" data-75-js-token=";-7-20">;</span><span class="token plain" data-75-js-token="-7-21"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 2.秦九昭算法计算hashCode</span><span class="token plain" data-75-js-token="-8-24"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// cats -&gt; unicode编码</span><span class="token plain" data-75-js-token="-9-24"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-75-js-token="for-10-4">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-75-js-token="(-10-8">(</span><span class="token keyword" style="color:#00009f" data-75-js-token="let-10-9">let</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-75-js-token="=-10-15">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-75-js-token="0-10-17">0</span><span class="token punctuation" style="color:#393A34" data-75-js-token=";-10-18">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-75-js-token="&lt;-10-22">&lt;</span><span class="token plain"> str</span><span class="token punctuation" style="color:#393A34" data-75-js-token=".-10-27">.</span><span class="token property-access" data-75-js-token="length-10-28">length</span><span class="token punctuation" style="color:#393A34" data-75-js-token=";-10-34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34" data-75-js-token="++-10-37">++</span><span class="token punctuation" style="color:#393A34" data-75-js-token=")-10-39">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-75-js-token="{-10-41">{</span><span class="token plain" data-75-js-token="-10-42"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      hashCode </span><span class="token operator" style="color:#393A34" data-75-js-token="=-11-15">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-75-js-token="37-11-17">37</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-75-js-token="*-11-20">*</span><span class="token plain"> hashCode </span><span class="token operator" style="color:#393A34" data-75-js-token="+-11-31">+</span><span class="token plain"> str</span><span class="token punctuation" style="color:#393A34" data-75-js-token=".-11-36">.</span><span class="token method function property-access" style="color:#d73a49" data-75-js-token="charCodeAt-11-37">charCodeAt</span><span class="token punctuation" style="color:#393A34" data-75-js-token="(-11-47">(</span><span class="token plain" data-75-js-token="i-11-48">i</span><span class="token punctuation" style="color:#393A34" data-75-js-token=")-11-49">)</span><span class="token punctuation" style="color:#393A34" data-75-js-token=";-11-50">;</span><span class="token plain" data-75-js-token="-11-51"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">//   console.log(&quot;✅ ~ hashCode:&quot;, hashCode);</span><span class="token plain" data-75-js-token="-12-50"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-75-js-token="}-13-4">}</span><span class="token plain" data-75-js-token="-13-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 3.取余</span><span class="token plain" data-75-js-token="-14-11"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-75-js-token="let-15-4">let</span><span class="token plain"> index </span><span class="token operator" style="color:#393A34" data-75-js-token="=-15-14">=</span><span class="token plain"> hashCode </span><span class="token operator" style="color:#393A34" data-75-js-token="%-15-25">%</span><span class="token plain"> arrSize</span><span class="token punctuation" style="color:#393A34" data-75-js-token=";-15-34">;</span><span class="token plain" data-75-js-token="-15-35"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-75-js-token="return-16-4">return</span><span class="token plain"> index</span><span class="token punctuation" style="color:#393A34" data-75-js-token=";-16-16">;</span><span class="token plain" data-75-js-token="-16-17"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34" data-75-js-token="}-17-2">}</span></div></pre></div><h2 id="2实现哈希表结构"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#2实现哈希表结构"><span class="icon icon-link"></span></a>2.实现哈希表结构</h2><p>我们这里使用的是链式存储，每个index也是一个数组，当然也可以用链表，在删除的时候有一些优势。</p><div class="__dumi-default-code-block"><pre class="prism-code language-js" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f" data-76-js-token="class-0-0">class</span><span class="token plain"> </span><span class="token class-name" data-76-js-token="MyHashMap-0-6">MyHashMap</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-76-js-token="{-0-16">{</span><span class="token plain" data-76-js-token="-0-17"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic" data-76-js-token="//存数据-1-2">//存数据</span><span class="token plain" data-76-js-token="-1-7"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  storage </span><span class="token operator" style="color:#393A34" data-76-js-token="=-2-10">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-76-js-token="[-2-12">[</span><span class="token punctuation" style="color:#393A34" data-76-js-token="]-2-13">]</span><span class="token punctuation" style="color:#393A34" data-76-js-token=";-2-14">;</span><span class="token plain" data-76-js-token="-2-15"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic" data-76-js-token="//计数器，计算转载因子-3-2">//计数器，计算转载因子</span><span class="token plain" data-76-js-token="-3-14"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  count </span><span class="token operator" style="color:#393A34" data-76-js-token="=-4-8">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-76-js-token="0-4-10">0</span><span class="token punctuation" style="color:#393A34" data-76-js-token=";-4-11">;</span><span class="token plain" data-76-js-token="-4-12"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic" data-76-js-token="//哈希表的总长度-5-2">//哈希表的总长度</span><span class="token plain" data-76-js-token="-5-11"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  limit </span><span class="token operator" style="color:#393A34" data-76-js-token="=-6-8">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-76-js-token="7-6-10">7</span><span class="token punctuation" style="color:#393A34" data-76-js-token=";-6-11">;</span><span class="token plain" data-76-js-token="-6-12"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic" data-76-js-token="/**-7-2">/**</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * 设计hash函数</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * 1.将字符串转为大数字，hashCode</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * 2.将大数字hashCode压缩大数组范围(大小)之内：哈希化</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   */</span><span class="token plain" data-76-js-token="-11-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49" data-76-js-token="myHashFunc-12-2">myHashFunc</span><span class="token punctuation" style="color:#393A34" data-76-js-token="(-12-12">(</span><span class="token parameter" data-76-js-token="str-12-13">str</span><span class="token parameter punctuation" style="color:#393A34" data-76-js-token=",-12-16">,</span><span class="token parameter"> arrSize</span><span class="token punctuation" style="color:#393A34" data-76-js-token=")-12-25">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-76-js-token="{-12-27">{</span><span class="token plain" data-76-js-token="-12-28"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 1.定义hashCode变量</span><span class="token plain" data-76-js-token="-13-21"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-76-js-token="let-14-4">let</span><span class="token plain"> hashCode </span><span class="token operator" style="color:#393A34" data-76-js-token="=-14-17">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-76-js-token="0-14-19">0</span><span class="token punctuation" style="color:#393A34" data-76-js-token=";-14-20">;</span><span class="token plain" data-76-js-token="-14-21"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 2.秦九昭算法计算hashCode</span><span class="token plain" data-76-js-token="-15-24"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// unicode编码</span><span class="token plain" data-76-js-token="-16-16"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-76-js-token="for-17-4">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-76-js-token="(-17-8">(</span><span class="token keyword" style="color:#00009f" data-76-js-token="let-17-9">let</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-76-js-token="=-17-15">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-76-js-token="0-17-17">0</span><span class="token punctuation" style="color:#393A34" data-76-js-token=";-17-18">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-76-js-token="&lt;-17-22">&lt;</span><span class="token plain"> str</span><span class="token punctuation" style="color:#393A34" data-76-js-token=".-17-27">.</span><span class="token property-access" data-76-js-token="length-17-28">length</span><span class="token punctuation" style="color:#393A34" data-76-js-token=";-17-34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34" data-76-js-token="++-17-37">++</span><span class="token punctuation" style="color:#393A34" data-76-js-token=")-17-39">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-76-js-token="{-17-41">{</span><span class="token plain" data-76-js-token="-17-42"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      hashCode </span><span class="token operator" style="color:#393A34" data-76-js-token="=-18-15">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-76-js-token="37-18-17">37</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-76-js-token="*-18-20">*</span><span class="token plain"> hashCode </span><span class="token operator" style="color:#393A34" data-76-js-token="+-18-31">+</span><span class="token plain"> str</span><span class="token punctuation" style="color:#393A34" data-76-js-token=".-18-36">.</span><span class="token method function property-access" style="color:#d73a49" data-76-js-token="charCodeAt-18-37">charCodeAt</span><span class="token punctuation" style="color:#393A34" data-76-js-token="(-18-47">(</span><span class="token plain" data-76-js-token="i-18-48">i</span><span class="token punctuation" style="color:#393A34" data-76-js-token=")-18-49">)</span><span class="token punctuation" style="color:#393A34" data-76-js-token=";-18-50">;</span><span class="token plain" data-76-js-token="-18-51"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">//   console.log(&quot;✅ ~ hashCode:&quot;, hashCode);</span><span class="token plain" data-76-js-token="-19-50"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-76-js-token="}-20-4">}</span><span class="token plain" data-76-js-token="-20-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 3.取余</span><span class="token plain" data-76-js-token="-21-11"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-76-js-token="let-22-4">let</span><span class="token plain"> index </span><span class="token operator" style="color:#393A34" data-76-js-token="=-22-14">=</span><span class="token plain"> hashCode </span><span class="token operator" style="color:#393A34" data-76-js-token="%-22-25">%</span><span class="token plain"> arrSize</span><span class="token punctuation" style="color:#393A34" data-76-js-token=";-22-34">;</span><span class="token plain" data-76-js-token="-22-35"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-76-js-token="return-23-4">return</span><span class="token plain"> index</span><span class="token punctuation" style="color:#393A34" data-76-js-token=";-23-16">;</span><span class="token plain" data-76-js-token="-23-17"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34" data-76-js-token="}-24-2">}</span><span class="token plain" data-76-js-token="-24-3"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-76-js-token="-25-0"></span><span class="token punctuation" style="color:#393A34" data-76-js-token="}-25-0">}</span></div></pre></div><h2 id="3增加修改数据"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#3增加修改数据"><span class="icon icon-link"></span></a>3.增加&amp;修改数据</h2><ul><li>主要就是判断这个索引下是否有数据<ul><li>有数据：判断是增加还是更新</li><li>无数据：新建一个数组，插入元素</li></ul></li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-js" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic" data-77-js-token="/**-0-0">/**</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * 插入数据</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * @param {*} key</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * @param {*} value</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   */</span><span class="token plain" data-77-js-token="-4-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49" data-77-js-token="put-5-2">put</span><span class="token punctuation" style="color:#393A34" data-77-js-token="(-5-5">(</span><span class="token parameter" data-77-js-token="key-5-6">key</span><span class="token parameter punctuation" style="color:#393A34" data-77-js-token=",-5-9">,</span><span class="token parameter"> value</span><span class="token punctuation" style="color:#393A34" data-77-js-token=")-5-16">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-77-js-token="{-5-18">{</span><span class="token plain" data-77-js-token="-5-19"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-77-js-token="const-6-4">const</span><span class="token plain"> index </span><span class="token operator" style="color:#393A34" data-77-js-token="=-6-16">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-77-js-token="this-6-18">this</span><span class="token punctuation" style="color:#393A34" data-77-js-token=".-6-22">.</span><span class="token method function property-access" style="color:#d73a49" data-77-js-token="myHashFunc-6-23">myHashFunc</span><span class="token punctuation" style="color:#393A34" data-77-js-token="(-6-33">(</span><span class="token plain" data-77-js-token="key-6-34">key</span><span class="token punctuation" style="color:#393A34" data-77-js-token=",-6-37">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-77-js-token="this-6-39">this</span><span class="token punctuation" style="color:#393A34" data-77-js-token=".-6-43">.</span><span class="token property-access" data-77-js-token="limit-6-44">limit</span><span class="token punctuation" style="color:#393A34" data-77-js-token=")-6-49">)</span><span class="token punctuation" style="color:#393A34" data-77-js-token=";-6-50">;</span><span class="token plain" data-77-js-token="-6-51"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-77-js-token="let-7-4">let</span><span class="token plain"> bucket </span><span class="token operator" style="color:#393A34" data-77-js-token="=-7-15">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-77-js-token="this-7-17">this</span><span class="token punctuation" style="color:#393A34" data-77-js-token=".-7-21">.</span><span class="token property-access" data-77-js-token="storage-7-22">storage</span><span class="token punctuation" style="color:#393A34" data-77-js-token="[-7-29">[</span><span class="token plain" data-77-js-token="index-7-30">index</span><span class="token punctuation" style="color:#393A34" data-77-js-token="]-7-35">]</span><span class="token punctuation" style="color:#393A34" data-77-js-token=";-7-36">;</span><span class="token plain" data-77-js-token="-7-37"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-77-js-token="if-8-4">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-77-js-token="(-8-7">(</span><span class="token operator" style="color:#393A34" data-77-js-token="!-8-8">!</span><span class="token plain" data-77-js-token="bucket-8-9">bucket</span><span class="token punctuation" style="color:#393A34" data-77-js-token=")-8-15">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-77-js-token="{-8-17">{</span><span class="token plain" data-77-js-token="-8-18"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      bucket </span><span class="token operator" style="color:#393A34" data-77-js-token="=-9-13">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-77-js-token="[-9-15">[</span><span class="token punctuation" style="color:#393A34" data-77-js-token="]-9-16">]</span><span class="token punctuation" style="color:#393A34" data-77-js-token=";-9-17">;</span><span class="token plain" data-77-js-token="-9-18"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f" data-77-js-token="this-10-6">this</span><span class="token punctuation" style="color:#393A34" data-77-js-token=".-10-10">.</span><span class="token property-access" data-77-js-token="storage-10-11">storage</span><span class="token punctuation" style="color:#393A34" data-77-js-token="[-10-18">[</span><span class="token plain" data-77-js-token="index-10-19">index</span><span class="token punctuation" style="color:#393A34" data-77-js-token="]-10-24">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-77-js-token="=-10-26">=</span><span class="token plain"> bucket</span><span class="token punctuation" style="color:#393A34" data-77-js-token=";-10-34">;</span><span class="token plain" data-77-js-token="-10-35"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-77-js-token="}-11-4">}</span><span class="token plain" data-77-js-token="-11-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-77-js-token="let-12-4">let</span><span class="token plain"> override </span><span class="token operator" style="color:#393A34" data-77-js-token="=-12-17">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa" data-77-js-token="false-12-19">false</span><span class="token punctuation" style="color:#393A34" data-77-js-token=";-12-24">;</span><span class="token plain" data-77-js-token="-12-25"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 修改</span><span class="token plain" data-77-js-token="-13-9"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-77-js-token="for-14-4">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-77-js-token="(-14-8">(</span><span class="token keyword" style="color:#00009f" data-77-js-token="let-14-9">let</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-77-js-token="=-14-15">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-77-js-token="0-14-17">0</span><span class="token punctuation" style="color:#393A34" data-77-js-token=";-14-18">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-77-js-token="&lt;-14-22">&lt;</span><span class="token plain"> bucket</span><span class="token punctuation" style="color:#393A34" data-77-js-token=".-14-30">.</span><span class="token property-access" data-77-js-token="length-14-31">length</span><span class="token punctuation" style="color:#393A34" data-77-js-token=";-14-37">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34" data-77-js-token="++-14-40">++</span><span class="token punctuation" style="color:#393A34" data-77-js-token=")-14-42">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-77-js-token="{-14-44">{</span><span class="token plain" data-77-js-token="-14-45"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f" data-77-js-token="const-15-6">const</span><span class="token plain"> tuple </span><span class="token operator" style="color:#393A34" data-77-js-token="=-15-18">=</span><span class="token plain"> bucket</span><span class="token punctuation" style="color:#393A34" data-77-js-token="[-15-26">[</span><span class="token plain" data-77-js-token="i-15-27">i</span><span class="token punctuation" style="color:#393A34" data-77-js-token="]-15-28">]</span><span class="token punctuation" style="color:#393A34" data-77-js-token=";-15-29">;</span><span class="token plain" data-77-js-token="-15-30"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f" data-77-js-token="if-16-6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-77-js-token="(-16-9">(</span><span class="token plain" data-77-js-token="tuple-16-10">tuple</span><span class="token punctuation" style="color:#393A34" data-77-js-token="[-16-15">[</span><span class="token number" style="color:#36acaa" data-77-js-token="0-16-16">0</span><span class="token punctuation" style="color:#393A34" data-77-js-token="]-16-17">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-77-js-token="===-16-19">===</span><span class="token plain"> key</span><span class="token punctuation" style="color:#393A34" data-77-js-token=")-16-26">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-77-js-token="{-16-28">{</span><span class="token plain" data-77-js-token="-16-29"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        tuple</span><span class="token punctuation" style="color:#393A34" data-77-js-token="[-17-13">[</span><span class="token number" style="color:#36acaa" data-77-js-token="1-17-14">1</span><span class="token punctuation" style="color:#393A34" data-77-js-token="]-17-15">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-77-js-token="=-17-17">=</span><span class="token plain"> value</span><span class="token punctuation" style="color:#393A34" data-77-js-token=";-17-24">;</span><span class="token plain" data-77-js-token="-17-25"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        override </span><span class="token operator" style="color:#393A34" data-77-js-token="=-18-17">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa" data-77-js-token="true-18-19">true</span><span class="token punctuation" style="color:#393A34" data-77-js-token=";-18-23">;</span><span class="token plain" data-77-js-token="-18-24"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34" data-77-js-token="}-19-6">}</span><span class="token plain" data-77-js-token="-19-7"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-77-js-token="}-20-4">}</span><span class="token plain" data-77-js-token="-20-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 新增</span><span class="token plain" data-77-js-token="-21-9"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-77-js-token="if-22-4">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-77-js-token="(-22-7">(</span><span class="token operator" style="color:#393A34" data-77-js-token="!-22-8">!</span><span class="token plain" data-77-js-token="override-22-9">override</span><span class="token punctuation" style="color:#393A34" data-77-js-token=")-22-17">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-77-js-token="{-22-19">{</span><span class="token plain" data-77-js-token="-22-20"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      bucket</span><span class="token punctuation" style="color:#393A34" data-77-js-token=".-23-12">.</span><span class="token method function property-access" style="color:#d73a49" data-77-js-token="push-23-13">push</span><span class="token punctuation" style="color:#393A34" data-77-js-token="(-23-17">(</span><span class="token punctuation" style="color:#393A34" data-77-js-token="[-23-18">[</span><span class="token plain" data-77-js-token="key-23-19">key</span><span class="token punctuation" style="color:#393A34" data-77-js-token=",-23-22">,</span><span class="token plain"> value</span><span class="token punctuation" style="color:#393A34" data-77-js-token="]-23-29">]</span><span class="token punctuation" style="color:#393A34" data-77-js-token=")-23-30">)</span><span class="token punctuation" style="color:#393A34" data-77-js-token=";-23-31">;</span><span class="token plain" data-77-js-token="-23-32"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f" data-77-js-token="this-24-6">this</span><span class="token punctuation" style="color:#393A34" data-77-js-token=".-24-10">.</span><span class="token property-access" data-77-js-token="count-24-11">count</span><span class="token operator" style="color:#393A34" data-77-js-token="++-24-16">++</span><span class="token punctuation" style="color:#393A34" data-77-js-token=";-24-18">;</span><span class="token plain" data-77-js-token="-24-19"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-77-js-token="}-25-4">}</span><span class="token plain" data-77-js-token="-25-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34" data-77-js-token="}-26-2">}</span></div></pre></div><h2 id="4获取数据"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#4获取数据"><span class="icon icon-link"></span></a>4.获取数据</h2><ul><li>获取元素索引<ul><li>有数据，遍历查找</li><li>无数据，返回</li></ul></li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-js" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic" data-78-js-token="/**-0-0">/**</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * 获取元素</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * @param {*} key</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   */</span><span class="token plain" data-78-js-token="-3-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49" data-78-js-token="get-4-2">get</span><span class="token punctuation" style="color:#393A34" data-78-js-token="(-4-5">(</span><span class="token plain" data-78-js-token="key-4-6">key</span><span class="token punctuation" style="color:#393A34" data-78-js-token=")-4-9">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-78-js-token="{-4-11">{</span><span class="token plain" data-78-js-token="-4-12"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-78-js-token="const-5-4">const</span><span class="token plain"> index </span><span class="token operator" style="color:#393A34" data-78-js-token="=-5-16">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-78-js-token="this-5-18">this</span><span class="token punctuation" style="color:#393A34" data-78-js-token=".-5-22">.</span><span class="token method function property-access" style="color:#d73a49" data-78-js-token="myHashFunc-5-23">myHashFunc</span><span class="token punctuation" style="color:#393A34" data-78-js-token="(-5-33">(</span><span class="token plain" data-78-js-token="key-5-34">key</span><span class="token punctuation" style="color:#393A34" data-78-js-token=",-5-37">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-78-js-token="this-5-39">this</span><span class="token punctuation" style="color:#393A34" data-78-js-token=".-5-43">.</span><span class="token property-access" data-78-js-token="limit-5-44">limit</span><span class="token punctuation" style="color:#393A34" data-78-js-token=")-5-49">)</span><span class="token punctuation" style="color:#393A34" data-78-js-token=";-5-50">;</span><span class="token plain" data-78-js-token="-5-51"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-78-js-token="-6-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-78-js-token="const-7-4">const</span><span class="token plain"> bucket </span><span class="token operator" style="color:#393A34" data-78-js-token="=-7-17">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-78-js-token="this-7-19">this</span><span class="token punctuation" style="color:#393A34" data-78-js-token=".-7-23">.</span><span class="token property-access" data-78-js-token="storage-7-24">storage</span><span class="token punctuation" style="color:#393A34" data-78-js-token="[-7-31">[</span><span class="token plain" data-78-js-token="index-7-32">index</span><span class="token punctuation" style="color:#393A34" data-78-js-token="]-7-37">]</span><span class="token punctuation" style="color:#393A34" data-78-js-token=";-7-38">;</span><span class="token plain" data-78-js-token="-7-39"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-78-js-token="-8-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 没有元素</span><span class="token plain" data-78-js-token="-9-11"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-78-js-token="if-10-4">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-78-js-token="(-10-7">(</span><span class="token operator" style="color:#393A34" data-78-js-token="!-10-8">!</span><span class="token plain" data-78-js-token="bucket-10-9">bucket</span><span class="token punctuation" style="color:#393A34" data-78-js-token=")-10-15">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-78-js-token="{-10-17">{</span><span class="token plain" data-78-js-token="-10-18"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f" data-78-js-token="return-11-6">return</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f" data-78-js-token="null-11-13">null</span><span class="token punctuation" style="color:#393A34" data-78-js-token=";-11-17">;</span><span class="token plain" data-78-js-token="-11-18"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-78-js-token="}-12-4">}</span><span class="token plain" data-78-js-token="-12-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-78-js-token="-13-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 有元素，查找元素</span><span class="token plain" data-78-js-token="-14-15"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-78-js-token="for-15-4">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-78-js-token="(-15-8">(</span><span class="token keyword" style="color:#00009f" data-78-js-token="let-15-9">let</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-78-js-token="=-15-15">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-78-js-token="0-15-17">0</span><span class="token punctuation" style="color:#393A34" data-78-js-token=";-15-18">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-78-js-token="&lt;-15-22">&lt;</span><span class="token plain"> bucket</span><span class="token punctuation" style="color:#393A34" data-78-js-token=".-15-30">.</span><span class="token property-access" data-78-js-token="length-15-31">length</span><span class="token punctuation" style="color:#393A34" data-78-js-token=";-15-37">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34" data-78-js-token="++-15-40">++</span><span class="token punctuation" style="color:#393A34" data-78-js-token=")-15-42">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-78-js-token="{-15-44">{</span><span class="token plain" data-78-js-token="-15-45"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f" data-78-js-token="const-16-6">const</span><span class="token plain"> tuple </span><span class="token operator" style="color:#393A34" data-78-js-token="=-16-18">=</span><span class="token plain"> bucket</span><span class="token punctuation" style="color:#393A34" data-78-js-token="[-16-26">[</span><span class="token plain" data-78-js-token="i-16-27">i</span><span class="token punctuation" style="color:#393A34" data-78-js-token="]-16-28">]</span><span class="token punctuation" style="color:#393A34" data-78-js-token=";-16-29">;</span><span class="token plain" data-78-js-token="-16-30"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f" data-78-js-token="if-17-6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-78-js-token="(-17-9">(</span><span class="token plain" data-78-js-token="tuple-17-10">tuple</span><span class="token punctuation" style="color:#393A34" data-78-js-token="[-17-15">[</span><span class="token number" style="color:#36acaa" data-78-js-token="0-17-16">0</span><span class="token punctuation" style="color:#393A34" data-78-js-token="]-17-17">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-78-js-token="===-17-19">===</span><span class="token plain"> key</span><span class="token punctuation" style="color:#393A34" data-78-js-token=")-17-26">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-78-js-token="{-17-28">{</span><span class="token plain" data-78-js-token="-17-29"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f" data-78-js-token="return-18-8">return</span><span class="token plain"> tuple</span><span class="token punctuation" style="color:#393A34" data-78-js-token="[-18-20">[</span><span class="token number" style="color:#36acaa" data-78-js-token="1-18-21">1</span><span class="token punctuation" style="color:#393A34" data-78-js-token="]-18-22">]</span><span class="token punctuation" style="color:#393A34" data-78-js-token=";-18-23">;</span><span class="token plain" data-78-js-token="-18-24"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34" data-78-js-token="}-19-6">}</span><span class="token plain" data-78-js-token="-19-7"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-78-js-token="}-20-4">}</span><span class="token plain" data-78-js-token="-20-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-78-js-token="-21-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-78-js-token="return-22-4">return</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f" data-78-js-token="null-22-11">null</span><span class="token punctuation" style="color:#393A34" data-78-js-token=";-22-15">;</span><span class="token plain" data-78-js-token="-22-16"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34" data-78-js-token="}-23-2">}</span></div></pre></div><h2 id="5删除数据"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#5删除数据"><span class="icon icon-link"></span></a>5.删除数据</h2><ul><li>获取元素索引<ul><li>有数据，遍历查找，找到删除</li><li>无数据，返回</li></ul></li></ul><div class="__dumi-default-code-block"><pre class="prism-code language-js" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic" data-79-js-token="/**-0-0">/**</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * 删除元素</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * @param {*} key</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   */</span><span class="token plain" data-79-js-token="-3-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49" data-79-js-token="remove-4-2">remove</span><span class="token punctuation" style="color:#393A34" data-79-js-token="(-4-8">(</span><span class="token parameter" data-79-js-token="key-4-9">key</span><span class="token punctuation" style="color:#393A34" data-79-js-token=")-4-12">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-79-js-token="{-4-14">{</span><span class="token plain" data-79-js-token="-4-15"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-79-js-token="const-5-4">const</span><span class="token plain"> index </span><span class="token operator" style="color:#393A34" data-79-js-token="=-5-16">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-79-js-token="this-5-18">this</span><span class="token punctuation" style="color:#393A34" data-79-js-token=".-5-22">.</span><span class="token method function property-access" style="color:#d73a49" data-79-js-token="myHashFunc-5-23">myHashFunc</span><span class="token punctuation" style="color:#393A34" data-79-js-token="(-5-33">(</span><span class="token plain" data-79-js-token="key-5-34">key</span><span class="token punctuation" style="color:#393A34" data-79-js-token=",-5-37">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-79-js-token="this-5-39">this</span><span class="token punctuation" style="color:#393A34" data-79-js-token=".-5-43">.</span><span class="token property-access" data-79-js-token="limit-5-44">limit</span><span class="token punctuation" style="color:#393A34" data-79-js-token=")-5-49">)</span><span class="token punctuation" style="color:#393A34" data-79-js-token=";-5-50">;</span><span class="token plain" data-79-js-token="-5-51"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-79-js-token="-6-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-79-js-token="const-7-4">const</span><span class="token plain"> bucket </span><span class="token operator" style="color:#393A34" data-79-js-token="=-7-17">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-79-js-token="this-7-19">this</span><span class="token punctuation" style="color:#393A34" data-79-js-token=".-7-23">.</span><span class="token property-access" data-79-js-token="storage-7-24">storage</span><span class="token punctuation" style="color:#393A34" data-79-js-token="[-7-31">[</span><span class="token plain" data-79-js-token="index-7-32">index</span><span class="token punctuation" style="color:#393A34" data-79-js-token="]-7-37">]</span><span class="token punctuation" style="color:#393A34" data-79-js-token=";-7-38">;</span><span class="token plain" data-79-js-token="-7-39"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-79-js-token="-8-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-79-js-token="if-9-4">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-79-js-token="(-9-7">(</span><span class="token operator" style="color:#393A34" data-79-js-token="!-9-8">!</span><span class="token plain" data-79-js-token="bucket-9-9">bucket</span><span class="token punctuation" style="color:#393A34" data-79-js-token=")-9-15">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f" data-79-js-token="return-9-17">return</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f" data-79-js-token="null-9-24">null</span><span class="token punctuation" style="color:#393A34" data-79-js-token=";-9-28">;</span><span class="token plain" data-79-js-token="-9-29"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-79-js-token="-10-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-79-js-token="for-11-4">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-79-js-token="(-11-8">(</span><span class="token keyword" style="color:#00009f" data-79-js-token="let-11-9">let</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-79-js-token="=-11-15">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-79-js-token="0-11-17">0</span><span class="token punctuation" style="color:#393A34" data-79-js-token=";-11-18">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-79-js-token="&lt;-11-22">&lt;</span><span class="token plain"> bucket</span><span class="token punctuation" style="color:#393A34" data-79-js-token=".-11-30">.</span><span class="token property-access" data-79-js-token="length-11-31">length</span><span class="token punctuation" style="color:#393A34" data-79-js-token=";-11-37">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34" data-79-js-token="++-11-40">++</span><span class="token punctuation" style="color:#393A34" data-79-js-token=")-11-42">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-79-js-token="{-11-44">{</span><span class="token plain" data-79-js-token="-11-45"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f" data-79-js-token="const-12-6">const</span><span class="token plain"> tuple </span><span class="token operator" style="color:#393A34" data-79-js-token="=-12-18">=</span><span class="token plain"> bucket</span><span class="token punctuation" style="color:#393A34" data-79-js-token="[-12-26">[</span><span class="token plain" data-79-js-token="i-12-27">i</span><span class="token punctuation" style="color:#393A34" data-79-js-token="]-12-28">]</span><span class="token punctuation" style="color:#393A34" data-79-js-token=";-12-29">;</span><span class="token plain" data-79-js-token="-12-30"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f" data-79-js-token="if-13-6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-79-js-token="(-13-9">(</span><span class="token plain" data-79-js-token="tuple-13-10">tuple</span><span class="token punctuation" style="color:#393A34" data-79-js-token="[-13-15">[</span><span class="token number" style="color:#36acaa" data-79-js-token="0-13-16">0</span><span class="token punctuation" style="color:#393A34" data-79-js-token="]-13-17">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-79-js-token="===-13-19">===</span><span class="token plain"> key</span><span class="token punctuation" style="color:#393A34" data-79-js-token=")-13-26">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-79-js-token="{-13-28">{</span><span class="token plain" data-79-js-token="-13-29"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        bucket</span><span class="token punctuation" style="color:#393A34" data-79-js-token=".-14-14">.</span><span class="token method function property-access" style="color:#d73a49" data-79-js-token="splice-14-15">splice</span><span class="token punctuation" style="color:#393A34" data-79-js-token="(-14-21">(</span><span class="token plain" data-79-js-token="i-14-22">i</span><span class="token punctuation" style="color:#393A34" data-79-js-token=",-14-23">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-79-js-token="1-14-25">1</span><span class="token punctuation" style="color:#393A34" data-79-js-token=")-14-26">)</span><span class="token punctuation" style="color:#393A34" data-79-js-token=";-14-27">;</span><span class="token plain" data-79-js-token="-14-28"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f" data-79-js-token="this-15-8">this</span><span class="token punctuation" style="color:#393A34" data-79-js-token=".-15-12">.</span><span class="token property-access" data-79-js-token="count-15-13">count</span><span class="token operator" style="color:#393A34" data-79-js-token="---15-18">--</span><span class="token punctuation" style="color:#393A34" data-79-js-token=";-15-20">;</span><span class="token plain" data-79-js-token="-15-21"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f" data-79-js-token="return-16-8">return</span><span class="token plain"> tuple</span><span class="token punctuation" style="color:#393A34" data-79-js-token="[-16-20">[</span><span class="token number" style="color:#36acaa" data-79-js-token="1-16-21">1</span><span class="token punctuation" style="color:#393A34" data-79-js-token="]-16-22">]</span><span class="token punctuation" style="color:#393A34" data-79-js-token=";-16-23">;</span><span class="token plain" data-79-js-token="-16-24"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34" data-79-js-token="}-17-6">}</span><span class="token plain" data-79-js-token="-17-7"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-79-js-token="}-18-4">}</span><span class="token plain" data-79-js-token="-18-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-79-js-token="-19-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-79-js-token="return-20-4">return</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f" data-79-js-token="null-20-11">null</span><span class="token punctuation" style="color:#393A34" data-79-js-token=";-20-15">;</span><span class="token plain" data-79-js-token="-20-16"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34" data-79-js-token="}-21-2">}</span></div></pre></div><h2 id="6其他方法"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#6其他方法"><span class="icon icon-link"></span></a>6.其他方法</h2><div class="__dumi-default-code-block"><pre class="prism-code language-js" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49" data-80-js-token="isEmpty-0-0">isEmpty</span><span class="token punctuation" style="color:#393A34" data-80-js-token="(-0-7">(</span><span class="token punctuation" style="color:#393A34" data-80-js-token=")-0-8">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-80-js-token="{-0-10">{</span><span class="token plain" data-80-js-token="-0-11"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-80-js-token="return-1-4">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-80-js-token="this-1-11">this</span><span class="token punctuation" style="color:#393A34" data-80-js-token=".-1-15">.</span><span class="token property-access" data-80-js-token="count-1-16">count</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-80-js-token="===-1-22">===</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-80-js-token="0-1-26">0</span><span class="token punctuation" style="color:#393A34" data-80-js-token=";-1-27">;</span><span class="token plain" data-80-js-token="-1-28"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-80-js-token="-2-0"></span><span class="token punctuation" style="color:#393A34" data-80-js-token="}-2-0">}</span><span class="token plain" data-80-js-token="-2-1"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-80-js-token="-3-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-80-js-token="-4-0"></span><span class="token function" style="color:#d73a49" data-80-js-token="size-4-0">size</span><span class="token punctuation" style="color:#393A34" data-80-js-token="(-4-4">(</span><span class="token punctuation" style="color:#393A34" data-80-js-token=")-4-5">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-80-js-token="{-4-7">{</span><span class="token plain" data-80-js-token="-4-8"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-80-js-token="return-5-4">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-80-js-token="this-5-11">this</span><span class="token punctuation" style="color:#393A34" data-80-js-token=".-5-15">.</span><span class="token property-access" data-80-js-token="size-5-16">size</span><span class="token punctuation" style="color:#393A34" data-80-js-token=";-5-20">;</span><span class="token plain" data-80-js-token="-5-21"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-80-js-token="-6-0"></span><span class="token punctuation" style="color:#393A34" data-80-js-token="}-6-0">}</span></div></pre></div><h1 id="️-七、扩容"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#️-七、扩容"><span class="icon icon-link"></span></a>☀️ 七、扩容</h1><h2 id="1为什么需要扩容？"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#1为什么需要扩容？"><span class="icon icon-link"></span></a>1.为什么需要扩容？</h2><p>在效率分析那节我们分析了填充因子对效率的影响，对应的每个index下的链越长，哈希表的效率就越低，所以在合适的情况下，我们需要给哈希表扩容，保持一个较好的效率。</p><p><img src="https://cdn.jsdelivr.net/gh/ObjectX-9/DrawingBed/imgMac/d8de48a769c947c585bf7d5b8c1a8dcd~tplv-k3u1fbpfcp-jj-mark%3A0%3A0%3A0%3A0%3Aq75.png" alt="image.png"/></p><h2 id="2什么时候扩容？"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#2什么时候扩容？"><span class="icon icon-link"></span></a>2.什么时候扩容？</h2><ul><li>增加时，判断填充因子，是否大于0.75，如果大于，获取一个新的容量，进行扩容</li><li>删除是，判断填充因子，是否小于0.25，如果小于，将容量减半，主要是减少空间浪费。</li></ul><h2 id="3怎么扩容？"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#3怎么扩容？"><span class="icon icon-link"></span></a>3.怎么扩容？</h2><p>哈希表在元素数量达到一定阈值时需要进行扩容，以保持较低的负载因子，提高性能。哈希表的扩容一般包括以下步骤：</p><ol><li><strong>创建新的哈希表</strong>：创建一个新的、更大的哈希表，通常是当前哈希表大小的两倍。</li><li><strong>重新哈希</strong>：将当前哈希表中的所有元素重新插入到新的哈希表中。这涉及到计算每个元素的新哈希值，并将其插入到新的位置上。由于哈希表的大小发生了变化，因此元素的哈希值也会发生变化。</li><li><strong>新表替换旧表</strong></li><li><strong>释放旧哈希表</strong>：释放旧的哈希表所占用的内存空间。</li></ol><h2 id="4扩容的实现"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#4扩容的实现"><span class="icon icon-link"></span></a>4.扩容的实现</h2><p>获取质数，原理之前已经说过了，容量质数有利于均匀分布</p><div class="__dumi-default-code-block"><pre class="prism-code language-js" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// 判断是否是质数</span><span class="token plain" data-81-js-token="-0-10"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49" data-81-js-token="isPrime-1-2">isPrime</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-81-js-token="=-1-10">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-81-js-token="function-1-12">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-81-js-token="(-1-21">(</span><span class="token parameter" data-81-js-token="num-1-22">num</span><span class="token punctuation" style="color:#393A34" data-81-js-token=")-1-25">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-81-js-token="{-1-27">{</span><span class="token plain" data-81-js-token="-1-28"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-81-js-token="var-2-4">var</span><span class="token plain"> temp </span><span class="token operator" style="color:#393A34" data-81-js-token="=-2-13">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49" data-81-js-token="parseInt-2-15">parseInt</span><span class="token punctuation" style="color:#393A34" data-81-js-token="(-2-23">(</span><span class="token known-class-name class-name" data-81-js-token="Math-2-24">Math</span><span class="token punctuation" style="color:#393A34" data-81-js-token=".-2-28">.</span><span class="token method function property-access" style="color:#d73a49" data-81-js-token="sqrt-2-29">sqrt</span><span class="token punctuation" style="color:#393A34" data-81-js-token="(-2-33">(</span><span class="token plain" data-81-js-token="num-2-34">num</span><span class="token punctuation" style="color:#393A34" data-81-js-token=")-2-37">)</span><span class="token punctuation" style="color:#393A34" data-81-js-token=")-2-38">)</span><span class="token punctuation" style="color:#393A34" data-81-js-token=";-2-39">;</span><span class="token plain" data-81-js-token="-2-40"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 2.循环判断</span><span class="token plain" data-81-js-token="-3-13"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-81-js-token="for-4-4">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-81-js-token="(-4-8">(</span><span class="token keyword" style="color:#00009f" data-81-js-token="var-4-9">var</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-81-js-token="=-4-15">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-81-js-token="2-4-17">2</span><span class="token punctuation" style="color:#393A34" data-81-js-token=";-4-18">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-81-js-token="&lt;=-4-22">&lt;=</span><span class="token plain"> temp</span><span class="token punctuation" style="color:#393A34" data-81-js-token=";-4-29">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34" data-81-js-token="++-4-32">++</span><span class="token punctuation" style="color:#393A34" data-81-js-token=")-4-34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-81-js-token="{-4-36">{</span><span class="token plain" data-81-js-token="-4-37"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f" data-81-js-token="if-5-6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-81-js-token="(-5-9">(</span><span class="token plain">num </span><span class="token operator" style="color:#393A34" data-81-js-token="%-5-14">%</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-81-js-token="==-5-18">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-81-js-token="0-5-21">0</span><span class="token punctuation" style="color:#393A34" data-81-js-token=")-5-22">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-81-js-token="{-5-24">{</span><span class="token plain" data-81-js-token="-5-25"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f" data-81-js-token="return-6-8">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa" data-81-js-token="false-6-15">false</span><span class="token punctuation" style="color:#393A34" data-81-js-token=";-6-20">;</span><span class="token plain" data-81-js-token="-6-21"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34" data-81-js-token="}-7-6">}</span><span class="token plain" data-81-js-token="-7-7"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-81-js-token="}-8-4">}</span><span class="token plain" data-81-js-token="-8-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-81-js-token="return-9-4">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa" data-81-js-token="true-9-11">true</span><span class="token punctuation" style="color:#393A34" data-81-js-token=";-9-15">;</span><span class="token plain" data-81-js-token="-9-16"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34" data-81-js-token="}-10-2">}</span><span class="token punctuation" style="color:#393A34" data-81-js-token=";-10-3">;</span><span class="token plain" data-81-js-token="-10-4"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-81-js-token="-11-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 获取质数</span><span class="token plain" data-81-js-token="-12-9"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49" data-81-js-token="getPrime-13-2">getPrime</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-81-js-token="=-13-11">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-81-js-token="function-13-13">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-81-js-token="(-13-22">(</span><span class="token parameter" data-81-js-token="num-13-23">num</span><span class="token punctuation" style="color:#393A34" data-81-js-token=")-13-26">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-81-js-token="{-13-28">{</span><span class="token plain" data-81-js-token="-13-29"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-81-js-token="while-14-4">while</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-81-js-token="(-14-10">(</span><span class="token operator" style="color:#393A34" data-81-js-token="!-14-11">!</span><span class="token function" style="color:#d73a49" data-81-js-token="isPrime-14-12">isPrime</span><span class="token punctuation" style="color:#393A34" data-81-js-token="(-14-19">(</span><span class="token plain" data-81-js-token="num-14-20">num</span><span class="token punctuation" style="color:#393A34" data-81-js-token=")-14-23">)</span><span class="token punctuation" style="color:#393A34" data-81-js-token=")-14-24">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-81-js-token="{-14-26">{</span><span class="token plain" data-81-js-token="-14-27"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      num</span><span class="token operator" style="color:#393A34" data-81-js-token="++-15-9">++</span><span class="token punctuation" style="color:#393A34" data-81-js-token=";-15-11">;</span><span class="token plain" data-81-js-token="-15-12"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-81-js-token="}-16-4">}</span><span class="token plain" data-81-js-token="-16-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-81-js-token="return-17-4">return</span><span class="token plain"> num</span><span class="token punctuation" style="color:#393A34" data-81-js-token=";-17-14">;</span><span class="token plain" data-81-js-token="-17-15"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34" data-81-js-token="}-18-2">}</span><span class="token punctuation" style="color:#393A34" data-81-js-token=";-18-3">;</span></div></pre></div><p>扩容函数实现</p><div class="__dumi-default-code-block"><pre class="prism-code language-js" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic" data-82-js-token="/**-0-0">/**</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * 扩容哈希表</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * @param {*} newLimit</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   */</span><span class="token plain" data-82-js-token="-3-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49" data-82-js-token="resize-4-2">resize</span><span class="token punctuation" style="color:#393A34" data-82-js-token="(-4-8">(</span><span class="token parameter" data-82-js-token="newLimit-4-9">newLimit</span><span class="token punctuation" style="color:#393A34" data-82-js-token=")-4-17">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-82-js-token="{-4-19">{</span><span class="token plain" data-82-js-token="-4-20"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-82-js-token="const-5-4">const</span><span class="token plain"> oldStorage </span><span class="token operator" style="color:#393A34" data-82-js-token="=-5-21">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-82-js-token="this-5-23">this</span><span class="token punctuation" style="color:#393A34" data-82-js-token=".-5-27">.</span><span class="token property-access" data-82-js-token="storage-5-28">storage</span><span class="token punctuation" style="color:#393A34" data-82-js-token=";-5-35">;</span><span class="token plain" data-82-js-token="-5-36"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-82-js-token="-6-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-82-js-token="this-7-4">this</span><span class="token punctuation" style="color:#393A34" data-82-js-token=".-7-8">.</span><span class="token property-access" data-82-js-token="limit-7-9">limit</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-82-js-token="=-7-15">=</span><span class="token plain"> newLimit</span><span class="token punctuation" style="color:#393A34" data-82-js-token=";-7-25">;</span><span class="token plain" data-82-js-token="-7-26"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-82-js-token="this-8-4">this</span><span class="token punctuation" style="color:#393A34" data-82-js-token=".-8-8">.</span><span class="token property-access" data-82-js-token="count-8-9">count</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-82-js-token="=-8-15">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-82-js-token="0-8-17">0</span><span class="token punctuation" style="color:#393A34" data-82-js-token=";-8-18">;</span><span class="token plain" data-82-js-token="-8-19"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-82-js-token="this-9-4">this</span><span class="token punctuation" style="color:#393A34" data-82-js-token=".-9-8">.</span><span class="token property-access" data-82-js-token="storage-9-9">storage</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-82-js-token="=-9-17">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-82-js-token="[-9-19">[</span><span class="token punctuation" style="color:#393A34" data-82-js-token="]-9-20">]</span><span class="token punctuation" style="color:#393A34" data-82-js-token=";-9-21">;</span><span class="token plain" data-82-js-token="-9-22"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-82-js-token="-10-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    oldStorage</span><span class="token punctuation" style="color:#393A34" data-82-js-token=".-11-14">.</span><span class="token method function property-access" style="color:#d73a49" data-82-js-token="forEach-11-15">forEach</span><span class="token punctuation" style="color:#393A34" data-82-js-token="(-11-22">(</span><span class="token punctuation" style="color:#393A34" data-82-js-token="(-11-23">(</span><span class="token parameter" data-82-js-token="bucket-11-24">bucket</span><span class="token punctuation" style="color:#393A34" data-82-js-token=")-11-30">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34" data-82-js-token="=&gt;-11-32">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-82-js-token="{-11-35">{</span><span class="token plain" data-82-js-token="-11-36"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f" data-82-js-token="if-12-6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-82-js-token="(-12-9">(</span><span class="token operator" style="color:#393A34" data-82-js-token="!-12-10">!</span><span class="token plain" data-82-js-token="bucket-12-11">bucket</span><span class="token punctuation" style="color:#393A34" data-82-js-token=")-12-17">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f" data-82-js-token="return-12-19">return</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f" data-82-js-token="null-12-26">null</span><span class="token punctuation" style="color:#393A34" data-82-js-token=";-12-30">;</span><span class="token plain" data-82-js-token="-12-31"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-82-js-token="-13-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f" data-82-js-token="for-14-6">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-82-js-token="(-14-10">(</span><span class="token keyword" style="color:#00009f" data-82-js-token="let-14-11">let</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-82-js-token="=-14-17">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-82-js-token="0-14-19">0</span><span class="token punctuation" style="color:#393A34" data-82-js-token=";-14-20">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-82-js-token="&lt;-14-24">&lt;</span><span class="token plain"> bucket</span><span class="token punctuation" style="color:#393A34" data-82-js-token=".-14-32">.</span><span class="token property-access" data-82-js-token="length-14-33">length</span><span class="token punctuation" style="color:#393A34" data-82-js-token=";-14-39">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34" data-82-js-token="++-14-42">++</span><span class="token punctuation" style="color:#393A34" data-82-js-token=")-14-44">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-82-js-token="{-14-46">{</span><span class="token plain" data-82-js-token="-14-47"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f" data-82-js-token="const-15-8">const</span><span class="token plain"> tuple </span><span class="token operator" style="color:#393A34" data-82-js-token="=-15-20">=</span><span class="token plain"> bucket</span><span class="token punctuation" style="color:#393A34" data-82-js-token="[-15-28">[</span><span class="token plain" data-82-js-token="i-15-29">i</span><span class="token punctuation" style="color:#393A34" data-82-js-token="]-15-30">]</span><span class="token punctuation" style="color:#393A34" data-82-js-token=";-15-31">;</span><span class="token plain" data-82-js-token="-15-32"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f" data-82-js-token="this-16-8">this</span><span class="token punctuation" style="color:#393A34" data-82-js-token=".-16-12">.</span><span class="token method function property-access" style="color:#d73a49" data-82-js-token="put-16-13">put</span><span class="token punctuation" style="color:#393A34" data-82-js-token="(-16-16">(</span><span class="token plain" data-82-js-token="tuple-16-17">tuple</span><span class="token punctuation" style="color:#393A34" data-82-js-token="[-16-22">[</span><span class="token number" style="color:#36acaa" data-82-js-token="0-16-23">0</span><span class="token punctuation" style="color:#393A34" data-82-js-token="]-16-24">]</span><span class="token punctuation" style="color:#393A34" data-82-js-token=",-16-25">,</span><span class="token plain"> tuple</span><span class="token punctuation" style="color:#393A34" data-82-js-token="[-16-32">[</span><span class="token number" style="color:#36acaa" data-82-js-token="1-16-33">1</span><span class="token punctuation" style="color:#393A34" data-82-js-token="]-16-34">]</span><span class="token punctuation" style="color:#393A34" data-82-js-token=")-16-35">)</span><span class="token punctuation" style="color:#393A34" data-82-js-token=";-16-36">;</span><span class="token plain" data-82-js-token="-16-37"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34" data-82-js-token="}-17-6">}</span><span class="token plain" data-82-js-token="-17-7"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-82-js-token="}-18-4">}</span><span class="token punctuation" style="color:#393A34" data-82-js-token=")-18-5">)</span><span class="token punctuation" style="color:#393A34" data-82-js-token=";-18-6">;</span><span class="token plain" data-82-js-token="-18-7"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34" data-82-js-token="}-19-2">}</span></div></pre></div><p>插入的处理</p><div class="__dumi-default-code-block"><pre class="prism-code language-js" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic" data-83-js-token="/**-0-0">/**</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * 插入数据</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * @param {*} key</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * @param {*} value</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   */</span><span class="token plain" data-83-js-token="-4-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49" data-83-js-token="put-5-2">put</span><span class="token punctuation" style="color:#393A34" data-83-js-token="(-5-5">(</span><span class="token parameter" data-83-js-token="key-5-6">key</span><span class="token parameter punctuation" style="color:#393A34" data-83-js-token=",-5-9">,</span><span class="token parameter"> value</span><span class="token punctuation" style="color:#393A34" data-83-js-token=")-5-16">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-83-js-token="{-5-18">{</span><span class="token plain" data-83-js-token="-5-19"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-83-js-token="const-6-4">const</span><span class="token plain"> index </span><span class="token operator" style="color:#393A34" data-83-js-token="=-6-16">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-83-js-token="this-6-18">this</span><span class="token punctuation" style="color:#393A34" data-83-js-token=".-6-22">.</span><span class="token method function property-access" style="color:#d73a49" data-83-js-token="myHashFunc-6-23">myHashFunc</span><span class="token punctuation" style="color:#393A34" data-83-js-token="(-6-33">(</span><span class="token plain" data-83-js-token="key-6-34">key</span><span class="token punctuation" style="color:#393A34" data-83-js-token=",-6-37">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-83-js-token="this-6-39">this</span><span class="token punctuation" style="color:#393A34" data-83-js-token=".-6-43">.</span><span class="token property-access" data-83-js-token="limit-6-44">limit</span><span class="token punctuation" style="color:#393A34" data-83-js-token=")-6-49">)</span><span class="token punctuation" style="color:#393A34" data-83-js-token=";-6-50">;</span><span class="token plain" data-83-js-token="-6-51"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-83-js-token="let-7-4">let</span><span class="token plain"> bucket </span><span class="token operator" style="color:#393A34" data-83-js-token="=-7-15">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-83-js-token="this-7-17">this</span><span class="token punctuation" style="color:#393A34" data-83-js-token=".-7-21">.</span><span class="token property-access" data-83-js-token="storage-7-22">storage</span><span class="token punctuation" style="color:#393A34" data-83-js-token="[-7-29">[</span><span class="token plain" data-83-js-token="index-7-30">index</span><span class="token punctuation" style="color:#393A34" data-83-js-token="]-7-35">]</span><span class="token punctuation" style="color:#393A34" data-83-js-token=";-7-36">;</span><span class="token plain" data-83-js-token="-7-37"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-83-js-token="if-8-4">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-83-js-token="(-8-7">(</span><span class="token operator" style="color:#393A34" data-83-js-token="!-8-8">!</span><span class="token plain" data-83-js-token="bucket-8-9">bucket</span><span class="token punctuation" style="color:#393A34" data-83-js-token=")-8-15">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-83-js-token="{-8-17">{</span><span class="token plain" data-83-js-token="-8-18"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      bucket </span><span class="token operator" style="color:#393A34" data-83-js-token="=-9-13">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-83-js-token="[-9-15">[</span><span class="token punctuation" style="color:#393A34" data-83-js-token="]-9-16">]</span><span class="token punctuation" style="color:#393A34" data-83-js-token=";-9-17">;</span><span class="token plain" data-83-js-token="-9-18"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f" data-83-js-token="this-10-6">this</span><span class="token punctuation" style="color:#393A34" data-83-js-token=".-10-10">.</span><span class="token property-access" data-83-js-token="storage-10-11">storage</span><span class="token punctuation" style="color:#393A34" data-83-js-token="[-10-18">[</span><span class="token plain" data-83-js-token="index-10-19">index</span><span class="token punctuation" style="color:#393A34" data-83-js-token="]-10-24">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-83-js-token="=-10-26">=</span><span class="token plain"> bucket</span><span class="token punctuation" style="color:#393A34" data-83-js-token=";-10-34">;</span><span class="token plain" data-83-js-token="-10-35"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-83-js-token="}-11-4">}</span><span class="token plain" data-83-js-token="-11-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-83-js-token="let-12-4">let</span><span class="token plain"> override </span><span class="token operator" style="color:#393A34" data-83-js-token="=-12-17">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa" data-83-js-token="false-12-19">false</span><span class="token punctuation" style="color:#393A34" data-83-js-token=";-12-24">;</span><span class="token plain" data-83-js-token="-12-25"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 修改</span><span class="token plain" data-83-js-token="-13-9"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-83-js-token="for-14-4">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-83-js-token="(-14-8">(</span><span class="token keyword" style="color:#00009f" data-83-js-token="let-14-9">let</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-83-js-token="=-14-15">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-83-js-token="0-14-17">0</span><span class="token punctuation" style="color:#393A34" data-83-js-token=";-14-18">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-83-js-token="&lt;-14-22">&lt;</span><span class="token plain"> bucket</span><span class="token punctuation" style="color:#393A34" data-83-js-token=".-14-30">.</span><span class="token property-access" data-83-js-token="length-14-31">length</span><span class="token punctuation" style="color:#393A34" data-83-js-token=";-14-37">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34" data-83-js-token="++-14-40">++</span><span class="token punctuation" style="color:#393A34" data-83-js-token=")-14-42">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-83-js-token="{-14-44">{</span><span class="token plain" data-83-js-token="-14-45"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f" data-83-js-token="const-15-6">const</span><span class="token plain"> tuple </span><span class="token operator" style="color:#393A34" data-83-js-token="=-15-18">=</span><span class="token plain"> bucket</span><span class="token punctuation" style="color:#393A34" data-83-js-token="[-15-26">[</span><span class="token plain" data-83-js-token="i-15-27">i</span><span class="token punctuation" style="color:#393A34" data-83-js-token="]-15-28">]</span><span class="token punctuation" style="color:#393A34" data-83-js-token=";-15-29">;</span><span class="token plain" data-83-js-token="-15-30"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f" data-83-js-token="if-16-6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-83-js-token="(-16-9">(</span><span class="token plain" data-83-js-token="tuple-16-10">tuple</span><span class="token punctuation" style="color:#393A34" data-83-js-token="[-16-15">[</span><span class="token number" style="color:#36acaa" data-83-js-token="0-16-16">0</span><span class="token punctuation" style="color:#393A34" data-83-js-token="]-16-17">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-83-js-token="===-16-19">===</span><span class="token plain"> key</span><span class="token punctuation" style="color:#393A34" data-83-js-token=")-16-26">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-83-js-token="{-16-28">{</span><span class="token plain" data-83-js-token="-16-29"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        tuple</span><span class="token punctuation" style="color:#393A34" data-83-js-token="[-17-13">[</span><span class="token number" style="color:#36acaa" data-83-js-token="1-17-14">1</span><span class="token punctuation" style="color:#393A34" data-83-js-token="]-17-15">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-83-js-token="=-17-17">=</span><span class="token plain"> value</span><span class="token punctuation" style="color:#393A34" data-83-js-token=";-17-24">;</span><span class="token plain" data-83-js-token="-17-25"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        override </span><span class="token operator" style="color:#393A34" data-83-js-token="=-18-17">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa" data-83-js-token="true-18-19">true</span><span class="token punctuation" style="color:#393A34" data-83-js-token=";-18-23">;</span><span class="token plain" data-83-js-token="-18-24"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34" data-83-js-token="}-19-6">}</span><span class="token plain" data-83-js-token="-19-7"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-83-js-token="}-20-4">}</span><span class="token plain" data-83-js-token="-20-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 新增</span><span class="token plain" data-83-js-token="-21-9"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-83-js-token="if-22-4">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-83-js-token="(-22-7">(</span><span class="token operator" style="color:#393A34" data-83-js-token="!-22-8">!</span><span class="token plain" data-83-js-token="override-22-9">override</span><span class="token punctuation" style="color:#393A34" data-83-js-token=")-22-17">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-83-js-token="{-22-19">{</span><span class="token plain" data-83-js-token="-22-20"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      bucket</span><span class="token punctuation" style="color:#393A34" data-83-js-token=".-23-12">.</span><span class="token method function property-access" style="color:#d73a49" data-83-js-token="push-23-13">push</span><span class="token punctuation" style="color:#393A34" data-83-js-token="(-23-17">(</span><span class="token punctuation" style="color:#393A34" data-83-js-token="[-23-18">[</span><span class="token plain" data-83-js-token="key-23-19">key</span><span class="token punctuation" style="color:#393A34" data-83-js-token=",-23-22">,</span><span class="token plain"> value</span><span class="token punctuation" style="color:#393A34" data-83-js-token="]-23-29">]</span><span class="token punctuation" style="color:#393A34" data-83-js-token=")-23-30">)</span><span class="token punctuation" style="color:#393A34" data-83-js-token=";-23-31">;</span><span class="token plain" data-83-js-token="-23-32"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f" data-83-js-token="this-24-6">this</span><span class="token punctuation" style="color:#393A34" data-83-js-token=".-24-10">.</span><span class="token property-access" data-83-js-token="count-24-11">count</span><span class="token operator" style="color:#393A34" data-83-js-token="++-24-16">++</span><span class="token punctuation" style="color:#393A34" data-83-js-token=";-24-18">;</span><span class="token plain" data-83-js-token="-24-19"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 数组扩容</span><span class="token plain" data-83-js-token="-25-13"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f" data-83-js-token="if-26-6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-83-js-token="(-26-9">(</span><span class="token keyword" style="color:#00009f" data-83-js-token="this-26-10">this</span><span class="token punctuation" style="color:#393A34" data-83-js-token=".-26-14">.</span><span class="token property-access" data-83-js-token="count-26-15">count</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-83-js-token="&gt;-26-21">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-83-js-token="this-26-23">this</span><span class="token punctuation" style="color:#393A34" data-83-js-token=".-26-27">.</span><span class="token property-access" data-83-js-token="limit-26-28">limit</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-83-js-token="*-26-34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-83-js-token="0.75-26-36">0.75</span><span class="token punctuation" style="color:#393A34" data-83-js-token=")-26-40">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-83-js-token="{-26-42">{</span><span class="token plain" data-83-js-token="-26-43"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f" data-83-js-token="const-27-8">const</span><span class="token plain"> limit </span><span class="token operator" style="color:#393A34" data-83-js-token="=-27-20">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-83-js-token="this-27-22">this</span><span class="token punctuation" style="color:#393A34" data-83-js-token=".-27-26">.</span><span class="token method function property-access" style="color:#d73a49" data-83-js-token="getPrime-27-27">getPrime</span><span class="token punctuation" style="color:#393A34" data-83-js-token="(-27-35">(</span><span class="token keyword" style="color:#00009f" data-83-js-token="this-27-36">this</span><span class="token punctuation" style="color:#393A34" data-83-js-token=".-27-40">.</span><span class="token property-access" data-83-js-token="limit-27-41">limit</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-83-js-token="*-27-47">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-83-js-token="2-27-49">2</span><span class="token punctuation" style="color:#393A34" data-83-js-token=")-27-50">)</span><span class="token punctuation" style="color:#393A34" data-83-js-token=";-27-51">;</span><span class="token plain" data-83-js-token="-27-52"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f" data-83-js-token="this-28-8">this</span><span class="token punctuation" style="color:#393A34" data-83-js-token=".-28-12">.</span><span class="token method function property-access" style="color:#d73a49" data-83-js-token="resize-28-13">resize</span><span class="token punctuation" style="color:#393A34" data-83-js-token="(-28-19">(</span><span class="token plain" data-83-js-token="limit-28-20">limit</span><span class="token punctuation" style="color:#393A34" data-83-js-token=")-28-25">)</span><span class="token punctuation" style="color:#393A34" data-83-js-token=";-28-26">;</span><span class="token plain" data-83-js-token="-28-27"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34" data-83-js-token="}-29-6">}</span><span class="token plain" data-83-js-token="-29-7"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-83-js-token="}-30-4">}</span><span class="token plain" data-83-js-token="-30-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34" data-83-js-token="}-31-2">}</span></div></pre></div><p>删除的处理</p><div class="__dumi-default-code-block"><pre class="prism-code language-js" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic" data-84-js-token="/**-0-0">/**</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * 删除元素</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * @param {*} key</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   */</span><span class="token plain" data-84-js-token="-3-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49" data-84-js-token="remove-4-2">remove</span><span class="token punctuation" style="color:#393A34" data-84-js-token="(-4-8">(</span><span class="token parameter" data-84-js-token="key-4-9">key</span><span class="token punctuation" style="color:#393A34" data-84-js-token=")-4-12">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-84-js-token="{-4-14">{</span><span class="token plain" data-84-js-token="-4-15"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-84-js-token="const-5-4">const</span><span class="token plain"> index </span><span class="token operator" style="color:#393A34" data-84-js-token="=-5-16">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-84-js-token="this-5-18">this</span><span class="token punctuation" style="color:#393A34" data-84-js-token=".-5-22">.</span><span class="token method function property-access" style="color:#d73a49" data-84-js-token="myHashFunc-5-23">myHashFunc</span><span class="token punctuation" style="color:#393A34" data-84-js-token="(-5-33">(</span><span class="token plain" data-84-js-token="key-5-34">key</span><span class="token punctuation" style="color:#393A34" data-84-js-token=",-5-37">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-84-js-token="this-5-39">this</span><span class="token punctuation" style="color:#393A34" data-84-js-token=".-5-43">.</span><span class="token property-access" data-84-js-token="limit-5-44">limit</span><span class="token punctuation" style="color:#393A34" data-84-js-token=")-5-49">)</span><span class="token punctuation" style="color:#393A34" data-84-js-token=";-5-50">;</span><span class="token plain" data-84-js-token="-5-51"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-84-js-token="-6-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-84-js-token="const-7-4">const</span><span class="token plain"> bucket </span><span class="token operator" style="color:#393A34" data-84-js-token="=-7-17">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-84-js-token="this-7-19">this</span><span class="token punctuation" style="color:#393A34" data-84-js-token=".-7-23">.</span><span class="token property-access" data-84-js-token="storage-7-24">storage</span><span class="token punctuation" style="color:#393A34" data-84-js-token="[-7-31">[</span><span class="token plain" data-84-js-token="index-7-32">index</span><span class="token punctuation" style="color:#393A34" data-84-js-token="]-7-37">]</span><span class="token punctuation" style="color:#393A34" data-84-js-token=";-7-38">;</span><span class="token plain" data-84-js-token="-7-39"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-84-js-token="-8-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-84-js-token="if-9-4">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-84-js-token="(-9-7">(</span><span class="token operator" style="color:#393A34" data-84-js-token="!-9-8">!</span><span class="token plain" data-84-js-token="bucket-9-9">bucket</span><span class="token punctuation" style="color:#393A34" data-84-js-token=")-9-15">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f" data-84-js-token="return-9-17">return</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f" data-84-js-token="null-9-24">null</span><span class="token punctuation" style="color:#393A34" data-84-js-token=";-9-28">;</span><span class="token plain" data-84-js-token="-9-29"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-84-js-token="-10-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-84-js-token="for-11-4">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-84-js-token="(-11-8">(</span><span class="token keyword" style="color:#00009f" data-84-js-token="let-11-9">let</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-84-js-token="=-11-15">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-84-js-token="0-11-17">0</span><span class="token punctuation" style="color:#393A34" data-84-js-token=";-11-18">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-84-js-token="&lt;-11-22">&lt;</span><span class="token plain"> bucket</span><span class="token punctuation" style="color:#393A34" data-84-js-token=".-11-30">.</span><span class="token property-access" data-84-js-token="length-11-31">length</span><span class="token punctuation" style="color:#393A34" data-84-js-token=";-11-37">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34" data-84-js-token="++-11-40">++</span><span class="token punctuation" style="color:#393A34" data-84-js-token=")-11-42">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-84-js-token="{-11-44">{</span><span class="token plain" data-84-js-token="-11-45"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f" data-84-js-token="const-12-6">const</span><span class="token plain"> tuple </span><span class="token operator" style="color:#393A34" data-84-js-token="=-12-18">=</span><span class="token plain"> bucket</span><span class="token punctuation" style="color:#393A34" data-84-js-token="[-12-26">[</span><span class="token plain" data-84-js-token="i-12-27">i</span><span class="token punctuation" style="color:#393A34" data-84-js-token="]-12-28">]</span><span class="token punctuation" style="color:#393A34" data-84-js-token=";-12-29">;</span><span class="token plain" data-84-js-token="-12-30"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f" data-84-js-token="if-13-6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-84-js-token="(-13-9">(</span><span class="token plain" data-84-js-token="tuple-13-10">tuple</span><span class="token punctuation" style="color:#393A34" data-84-js-token="[-13-15">[</span><span class="token number" style="color:#36acaa" data-84-js-token="0-13-16">0</span><span class="token punctuation" style="color:#393A34" data-84-js-token="]-13-17">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-84-js-token="===-13-19">===</span><span class="token plain"> key</span><span class="token punctuation" style="color:#393A34" data-84-js-token=")-13-26">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-84-js-token="{-13-28">{</span><span class="token plain" data-84-js-token="-13-29"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        bucket</span><span class="token punctuation" style="color:#393A34" data-84-js-token=".-14-14">.</span><span class="token method function property-access" style="color:#d73a49" data-84-js-token="splice-14-15">splice</span><span class="token punctuation" style="color:#393A34" data-84-js-token="(-14-21">(</span><span class="token plain" data-84-js-token="i-14-22">i</span><span class="token punctuation" style="color:#393A34" data-84-js-token=",-14-23">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-84-js-token="1-14-25">1</span><span class="token punctuation" style="color:#393A34" data-84-js-token=")-14-26">)</span><span class="token punctuation" style="color:#393A34" data-84-js-token=";-14-27">;</span><span class="token plain" data-84-js-token="-14-28"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f" data-84-js-token="this-15-8">this</span><span class="token punctuation" style="color:#393A34" data-84-js-token=".-15-12">.</span><span class="token property-access" data-84-js-token="count-15-13">count</span><span class="token operator" style="color:#393A34" data-84-js-token="---15-18">--</span><span class="token punctuation" style="color:#393A34" data-84-js-token=";-15-20">;</span><span class="token plain" data-84-js-token="-15-21"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-84-js-token="-16-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 缩小数组的容量，为什么是8，设置容量的最小值</span><span class="token plain" data-84-js-token="-17-33"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f" data-84-js-token="if-18-8">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-84-js-token="(-18-11">(</span><span class="token keyword" style="color:#00009f" data-84-js-token="this-18-12">this</span><span class="token punctuation" style="color:#393A34" data-84-js-token=".-18-16">.</span><span class="token property-access" data-84-js-token="limit-18-17">limit</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-84-js-token="&gt;-18-23">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-84-js-token="8-18-25">8</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-84-js-token="&amp;&amp;-18-27">&amp;&amp;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-84-js-token="this-18-30">this</span><span class="token punctuation" style="color:#393A34" data-84-js-token=".-18-34">.</span><span class="token property-access" data-84-js-token="count-18-35">count</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-84-js-token="&lt;-18-41">&lt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-84-js-token="this-18-43">this</span><span class="token punctuation" style="color:#393A34" data-84-js-token=".-18-47">.</span><span class="token property-access" data-84-js-token="limit-18-48">limit</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-84-js-token="*-18-54">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-84-js-token="0.25-18-56">0.25</span><span class="token punctuation" style="color:#393A34" data-84-js-token=")-18-60">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-84-js-token="{-18-62">{</span><span class="token plain" data-84-js-token="-18-63"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token keyword" style="color:#00009f" data-84-js-token="const-19-10">const</span><span class="token plain"> limit </span><span class="token operator" style="color:#393A34" data-84-js-token="=-19-22">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-84-js-token="this-19-24">this</span><span class="token punctuation" style="color:#393A34" data-84-js-token=".-19-28">.</span><span class="token method function property-access" style="color:#d73a49" data-84-js-token="getPrime-19-29">getPrime</span><span class="token punctuation" style="color:#393A34" data-84-js-token="(-19-37">(</span><span class="token known-class-name class-name" data-84-js-token="Math-19-38">Math</span><span class="token punctuation" style="color:#393A34" data-84-js-token=".-19-42">.</span><span class="token method function property-access" style="color:#d73a49" data-84-js-token="floor-19-43">floor</span><span class="token punctuation" style="color:#393A34" data-84-js-token="(-19-48">(</span><span class="token keyword" style="color:#00009f" data-84-js-token="this-19-49">this</span><span class="token punctuation" style="color:#393A34" data-84-js-token=".-19-53">.</span><span class="token property-access" data-84-js-token="limit-19-54">limit</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-84-js-token="/-19-60">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-84-js-token="2-19-62">2</span><span class="token punctuation" style="color:#393A34" data-84-js-token=")-19-63">)</span><span class="token punctuation" style="color:#393A34" data-84-js-token=")-19-64">)</span><span class="token punctuation" style="color:#393A34" data-84-js-token=";-19-65">;</span><span class="token plain" data-84-js-token="-19-66"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token keyword" style="color:#00009f" data-84-js-token="this-20-10">this</span><span class="token punctuation" style="color:#393A34" data-84-js-token=".-20-14">.</span><span class="token method function property-access" style="color:#d73a49" data-84-js-token="resize-20-15">resize</span><span class="token punctuation" style="color:#393A34" data-84-js-token="(-20-21">(</span><span class="token plain" data-84-js-token="limit-20-22">limit</span><span class="token punctuation" style="color:#393A34" data-84-js-token=")-20-27">)</span><span class="token punctuation" style="color:#393A34" data-84-js-token=";-20-28">;</span><span class="token plain" data-84-js-token="-20-29"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34" data-84-js-token="}-21-8">}</span><span class="token plain" data-84-js-token="-21-9"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f" data-84-js-token="return-22-8">return</span><span class="token plain"> tuple</span><span class="token punctuation" style="color:#393A34" data-84-js-token="[-22-20">[</span><span class="token number" style="color:#36acaa" data-84-js-token="1-22-21">1</span><span class="token punctuation" style="color:#393A34" data-84-js-token="]-22-22">]</span><span class="token punctuation" style="color:#393A34" data-84-js-token=";-22-23">;</span><span class="token plain" data-84-js-token="-22-24"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34" data-84-js-token="}-23-6">}</span><span class="token plain" data-84-js-token="-23-7"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-84-js-token="}-24-4">}</span><span class="token plain" data-84-js-token="-24-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-84-js-token="-25-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-84-js-token="return-26-4">return</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f" data-84-js-token="null-26-11">null</span><span class="token punctuation" style="color:#393A34" data-84-js-token=";-26-15">;</span><span class="token plain" data-84-js-token="-26-16"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34" data-84-js-token="}-27-2">}</span></div></pre></div><h1 id="完整代码"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#完整代码"><span class="icon icon-link"></span></a>完整代码</h1><div class="__dumi-default-code-block"><pre class="prism-code language-js" style="color:#393A34;background-color:#f6f8fa"><button class="__dumi-default-icon __dumi-default-code-block-copy-btn" data-status="ready"></button><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f" data-85-js-token="class-0-0">class</span><span class="token plain"> </span><span class="token class-name" data-85-js-token="MyHashMap-0-6">MyHashMap</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="{-0-16">{</span><span class="token plain" data-85-js-token="-0-17"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic" data-85-js-token="//存数据-1-2">//存数据</span><span class="token plain" data-85-js-token="-1-7"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  storage </span><span class="token operator" style="color:#393A34" data-85-js-token="=-2-10">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="[-2-12">[</span><span class="token punctuation" style="color:#393A34" data-85-js-token="]-2-13">]</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-2-14">;</span><span class="token plain" data-85-js-token="-2-15"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic" data-85-js-token="//计数器，计算转载因子-3-2">//计数器，计算转载因子</span><span class="token plain" data-85-js-token="-3-14"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  count </span><span class="token operator" style="color:#393A34" data-85-js-token="=-4-8">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-85-js-token="0-4-10">0</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-4-11">;</span><span class="token plain" data-85-js-token="-4-12"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic" data-85-js-token="//哈希表的总长度-5-2">//哈希表的总长度</span><span class="token plain" data-85-js-token="-5-11"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  limit </span><span class="token operator" style="color:#393A34" data-85-js-token="=-6-8">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-85-js-token="7-6-10">7</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-6-11">;</span><span class="token plain" data-85-js-token="-6-12"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic" data-85-js-token="/**-7-2">/**</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * 设计hash函数</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * 1.将字符串转为大数字，hashCode</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * 2.将大数字hashCode压缩大数组范围(大小)之内：哈希化</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   */</span><span class="token plain" data-85-js-token="-11-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49" data-85-js-token="myHashFunc-12-2">myHashFunc</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-12-12">(</span><span class="token parameter" data-85-js-token="str-12-13">str</span><span class="token parameter punctuation" style="color:#393A34" data-85-js-token=",-12-16">,</span><span class="token parameter"> arrSize</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-12-25">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="{-12-27">{</span><span class="token plain" data-85-js-token="-12-28"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 1.定义hashCode变量</span><span class="token plain" data-85-js-token="-13-21"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-85-js-token="let-14-4">let</span><span class="token plain"> hashCode </span><span class="token operator" style="color:#393A34" data-85-js-token="=-14-17">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-85-js-token="0-14-19">0</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-14-20">;</span><span class="token plain" data-85-js-token="-14-21"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 2.霍纳算法(秦九昭算法)计算hashCode</span><span class="token plain" data-85-js-token="-15-30"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// cats -&gt; unicode编码</span><span class="token plain" data-85-js-token="-16-24"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="for-17-4">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-17-8">(</span><span class="token keyword" style="color:#00009f" data-85-js-token="let-17-9">let</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-85-js-token="=-17-15">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-85-js-token="0-17-17">0</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-17-18">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-85-js-token="&lt;-17-22">&lt;</span><span class="token plain"> str</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-17-27">.</span><span class="token property-access" data-85-js-token="length-17-28">length</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-17-34">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34" data-85-js-token="++-17-37">++</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-17-39">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="{-17-41">{</span><span class="token plain" data-85-js-token="-17-42"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      hashCode </span><span class="token operator" style="color:#393A34" data-85-js-token="=-18-15">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-85-js-token="37-18-17">37</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-85-js-token="*-18-20">*</span><span class="token plain"> hashCode </span><span class="token operator" style="color:#393A34" data-85-js-token="+-18-31">+</span><span class="token plain"> str</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-18-36">.</span><span class="token method function property-access" style="color:#d73a49" data-85-js-token="charCodeAt-18-37">charCodeAt</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-18-47">(</span><span class="token plain" data-85-js-token="i-18-48">i</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-18-49">)</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-18-50">;</span><span class="token plain" data-85-js-token="-18-51"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">//   console.log(&quot;✅ ~ hashCode:&quot;, hashCode);</span><span class="token plain" data-85-js-token="-19-50"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-85-js-token="}-20-4">}</span><span class="token plain" data-85-js-token="-20-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 3.取余</span><span class="token plain" data-85-js-token="-21-11"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-85-js-token="let-22-4">let</span><span class="token plain"> index </span><span class="token operator" style="color:#393A34" data-85-js-token="=-22-14">=</span><span class="token plain"> hashCode </span><span class="token operator" style="color:#393A34" data-85-js-token="%-22-25">%</span><span class="token plain"> arrSize</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-22-34">;</span><span class="token plain" data-85-js-token="-22-35"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="return-23-4">return</span><span class="token plain"> index</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-23-16">;</span><span class="token plain" data-85-js-token="-23-17"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34" data-85-js-token="}-24-2">}</span><span class="token plain" data-85-js-token="-24-3"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-85-js-token="-25-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic" data-85-js-token="/**-26-2">/**</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * 插入数据</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * @param {*} key</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * @param {*} value</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   */</span><span class="token plain" data-85-js-token="-30-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49" data-85-js-token="put-31-2">put</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-31-5">(</span><span class="token parameter" data-85-js-token="key-31-6">key</span><span class="token parameter punctuation" style="color:#393A34" data-85-js-token=",-31-9">,</span><span class="token parameter"> value</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-31-16">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="{-31-18">{</span><span class="token plain" data-85-js-token="-31-19"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-85-js-token="const-32-4">const</span><span class="token plain"> index </span><span class="token operator" style="color:#393A34" data-85-js-token="=-32-16">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-85-js-token="this-32-18">this</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-32-22">.</span><span class="token method function property-access" style="color:#d73a49" data-85-js-token="myHashFunc-32-23">myHashFunc</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-32-33">(</span><span class="token plain" data-85-js-token="key-32-34">key</span><span class="token punctuation" style="color:#393A34" data-85-js-token=",-32-37">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-85-js-token="this-32-39">this</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-32-43">.</span><span class="token property-access" data-85-js-token="limit-32-44">limit</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-32-49">)</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-32-50">;</span><span class="token plain" data-85-js-token="-32-51"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-85-js-token="let-33-4">let</span><span class="token plain"> bucket </span><span class="token operator" style="color:#393A34" data-85-js-token="=-33-15">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-85-js-token="this-33-17">this</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-33-21">.</span><span class="token property-access" data-85-js-token="storage-33-22">storage</span><span class="token punctuation" style="color:#393A34" data-85-js-token="[-33-29">[</span><span class="token plain" data-85-js-token="index-33-30">index</span><span class="token punctuation" style="color:#393A34" data-85-js-token="]-33-35">]</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-33-36">;</span><span class="token plain" data-85-js-token="-33-37"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="if-34-4">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-34-7">(</span><span class="token operator" style="color:#393A34" data-85-js-token="!-34-8">!</span><span class="token plain" data-85-js-token="bucket-34-9">bucket</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-34-15">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="{-34-17">{</span><span class="token plain" data-85-js-token="-34-18"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      bucket </span><span class="token operator" style="color:#393A34" data-85-js-token="=-35-13">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="[-35-15">[</span><span class="token punctuation" style="color:#393A34" data-85-js-token="]-35-16">]</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-35-17">;</span><span class="token plain" data-85-js-token="-35-18"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f" data-85-js-token="this-36-6">this</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-36-10">.</span><span class="token property-access" data-85-js-token="storage-36-11">storage</span><span class="token punctuation" style="color:#393A34" data-85-js-token="[-36-18">[</span><span class="token plain" data-85-js-token="index-36-19">index</span><span class="token punctuation" style="color:#393A34" data-85-js-token="]-36-24">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-85-js-token="=-36-26">=</span><span class="token plain"> bucket</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-36-34">;</span><span class="token plain" data-85-js-token="-36-35"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-85-js-token="}-37-4">}</span><span class="token plain" data-85-js-token="-37-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-85-js-token="let-38-4">let</span><span class="token plain"> override </span><span class="token operator" style="color:#393A34" data-85-js-token="=-38-17">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa" data-85-js-token="false-38-19">false</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-38-24">;</span><span class="token plain" data-85-js-token="-38-25"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 修改</span><span class="token plain" data-85-js-token="-39-9"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="for-40-4">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-40-8">(</span><span class="token keyword" style="color:#00009f" data-85-js-token="let-40-9">let</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-85-js-token="=-40-15">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-85-js-token="0-40-17">0</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-40-18">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-85-js-token="&lt;-40-22">&lt;</span><span class="token plain"> bucket</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-40-30">.</span><span class="token property-access" data-85-js-token="length-40-31">length</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-40-37">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34" data-85-js-token="++-40-40">++</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-40-42">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="{-40-44">{</span><span class="token plain" data-85-js-token="-40-45"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f" data-85-js-token="const-41-6">const</span><span class="token plain"> tuple </span><span class="token operator" style="color:#393A34" data-85-js-token="=-41-18">=</span><span class="token plain"> bucket</span><span class="token punctuation" style="color:#393A34" data-85-js-token="[-41-26">[</span><span class="token plain" data-85-js-token="i-41-27">i</span><span class="token punctuation" style="color:#393A34" data-85-js-token="]-41-28">]</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-41-29">;</span><span class="token plain" data-85-js-token="-41-30"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="if-42-6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-42-9">(</span><span class="token plain" data-85-js-token="tuple-42-10">tuple</span><span class="token punctuation" style="color:#393A34" data-85-js-token="[-42-15">[</span><span class="token number" style="color:#36acaa" data-85-js-token="0-42-16">0</span><span class="token punctuation" style="color:#393A34" data-85-js-token="]-42-17">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-85-js-token="===-42-19">===</span><span class="token plain"> key</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-42-26">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="{-42-28">{</span><span class="token plain" data-85-js-token="-42-29"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        tuple</span><span class="token punctuation" style="color:#393A34" data-85-js-token="[-43-13">[</span><span class="token number" style="color:#36acaa" data-85-js-token="1-43-14">1</span><span class="token punctuation" style="color:#393A34" data-85-js-token="]-43-15">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-85-js-token="=-43-17">=</span><span class="token plain"> value</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-43-24">;</span><span class="token plain" data-85-js-token="-43-25"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        override </span><span class="token operator" style="color:#393A34" data-85-js-token="=-44-17">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa" data-85-js-token="true-44-19">true</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-44-23">;</span><span class="token plain" data-85-js-token="-44-24"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34" data-85-js-token="}-45-6">}</span><span class="token plain" data-85-js-token="-45-7"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-85-js-token="}-46-4">}</span><span class="token plain" data-85-js-token="-46-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 新增</span><span class="token plain" data-85-js-token="-47-9"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="if-48-4">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-48-7">(</span><span class="token operator" style="color:#393A34" data-85-js-token="!-48-8">!</span><span class="token plain" data-85-js-token="override-48-9">override</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-48-17">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="{-48-19">{</span><span class="token plain" data-85-js-token="-48-20"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      bucket</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-49-12">.</span><span class="token method function property-access" style="color:#d73a49" data-85-js-token="push-49-13">push</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-49-17">(</span><span class="token punctuation" style="color:#393A34" data-85-js-token="[-49-18">[</span><span class="token plain" data-85-js-token="key-49-19">key</span><span class="token punctuation" style="color:#393A34" data-85-js-token=",-49-22">,</span><span class="token plain"> value</span><span class="token punctuation" style="color:#393A34" data-85-js-token="]-49-29">]</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-49-30">)</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-49-31">;</span><span class="token plain" data-85-js-token="-49-32"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f" data-85-js-token="this-50-6">this</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-50-10">.</span><span class="token property-access" data-85-js-token="count-50-11">count</span><span class="token operator" style="color:#393A34" data-85-js-token="++-50-16">++</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-50-18">;</span><span class="token plain" data-85-js-token="-50-19"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// 数组扩容</span><span class="token plain" data-85-js-token="-51-13"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="if-52-6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-52-9">(</span><span class="token keyword" style="color:#00009f" data-85-js-token="this-52-10">this</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-52-14">.</span><span class="token property-access" data-85-js-token="count-52-15">count</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-85-js-token="&gt;-52-21">&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-85-js-token="this-52-23">this</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-52-27">.</span><span class="token property-access" data-85-js-token="limit-52-28">limit</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-85-js-token="*-52-34">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-85-js-token="0.75-52-36">0.75</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-52-40">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="{-52-42">{</span><span class="token plain" data-85-js-token="-52-43"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f" data-85-js-token="const-53-8">const</span><span class="token plain"> limit </span><span class="token operator" style="color:#393A34" data-85-js-token="=-53-20">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-85-js-token="this-53-22">this</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-53-26">.</span><span class="token method function property-access" style="color:#d73a49" data-85-js-token="getPrime-53-27">getPrime</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-53-35">(</span><span class="token keyword" style="color:#00009f" data-85-js-token="this-53-36">this</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-53-40">.</span><span class="token property-access" data-85-js-token="limit-53-41">limit</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-85-js-token="*-53-47">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-85-js-token="2-53-49">2</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-53-50">)</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-53-51">;</span><span class="token plain" data-85-js-token="-53-52"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f" data-85-js-token="this-54-8">this</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-54-12">.</span><span class="token method function property-access" style="color:#d73a49" data-85-js-token="resize-54-13">resize</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-54-19">(</span><span class="token plain" data-85-js-token="limit-54-20">limit</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-54-25">)</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-54-26">;</span><span class="token plain" data-85-js-token="-54-27"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34" data-85-js-token="}-55-6">}</span><span class="token plain" data-85-js-token="-55-7"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-85-js-token="}-56-4">}</span><span class="token plain" data-85-js-token="-56-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34" data-85-js-token="}-57-2">}</span><span class="token plain" data-85-js-token="-57-3"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-85-js-token="-58-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic" data-85-js-token="/**-59-2">/**</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * 获取元素</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * @param {*} key</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   */</span><span class="token plain" data-85-js-token="-62-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49" data-85-js-token="get-63-2">get</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-63-5">(</span><span class="token plain" data-85-js-token="key-63-6">key</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-63-9">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="{-63-11">{</span><span class="token plain" data-85-js-token="-63-12"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-85-js-token="const-64-4">const</span><span class="token plain"> index </span><span class="token operator" style="color:#393A34" data-85-js-token="=-64-16">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-85-js-token="this-64-18">this</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-64-22">.</span><span class="token method function property-access" style="color:#d73a49" data-85-js-token="myHashFunc-64-23">myHashFunc</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-64-33">(</span><span class="token plain" data-85-js-token="key-64-34">key</span><span class="token punctuation" style="color:#393A34" data-85-js-token=",-64-37">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-85-js-token="this-64-39">this</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-64-43">.</span><span class="token property-access" data-85-js-token="limit-64-44">limit</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-64-49">)</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-64-50">;</span><span class="token plain" data-85-js-token="-64-51"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-85-js-token="-65-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-85-js-token="const-66-4">const</span><span class="token plain"> bucket </span><span class="token operator" style="color:#393A34" data-85-js-token="=-66-17">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-85-js-token="this-66-19">this</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-66-23">.</span><span class="token property-access" data-85-js-token="storage-66-24">storage</span><span class="token punctuation" style="color:#393A34" data-85-js-token="[-66-31">[</span><span class="token plain" data-85-js-token="index-66-32">index</span><span class="token punctuation" style="color:#393A34" data-85-js-token="]-66-37">]</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-66-38">;</span><span class="token plain" data-85-js-token="-66-39"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-85-js-token="-67-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 没有元素</span><span class="token plain" data-85-js-token="-68-11"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="if-69-4">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-69-7">(</span><span class="token operator" style="color:#393A34" data-85-js-token="!-69-8">!</span><span class="token plain" data-85-js-token="bucket-69-9">bucket</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-69-15">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="{-69-17">{</span><span class="token plain" data-85-js-token="-69-18"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="return-70-6">return</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f" data-85-js-token="null-70-13">null</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-70-17">;</span><span class="token plain" data-85-js-token="-70-18"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-85-js-token="}-71-4">}</span><span class="token plain" data-85-js-token="-71-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-85-js-token="-72-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 有元素，查找元素</span><span class="token plain" data-85-js-token="-73-15"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="for-74-4">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-74-8">(</span><span class="token keyword" style="color:#00009f" data-85-js-token="let-74-9">let</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-85-js-token="=-74-15">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-85-js-token="0-74-17">0</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-74-18">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-85-js-token="&lt;-74-22">&lt;</span><span class="token plain"> bucket</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-74-30">.</span><span class="token property-access" data-85-js-token="length-74-31">length</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-74-37">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34" data-85-js-token="++-74-40">++</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-74-42">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="{-74-44">{</span><span class="token plain" data-85-js-token="-74-45"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f" data-85-js-token="const-75-6">const</span><span class="token plain"> tuple </span><span class="token operator" style="color:#393A34" data-85-js-token="=-75-18">=</span><span class="token plain"> bucket</span><span class="token punctuation" style="color:#393A34" data-85-js-token="[-75-26">[</span><span class="token plain" data-85-js-token="i-75-27">i</span><span class="token punctuation" style="color:#393A34" data-85-js-token="]-75-28">]</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-75-29">;</span><span class="token plain" data-85-js-token="-75-30"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="if-76-6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-76-9">(</span><span class="token plain" data-85-js-token="tuple-76-10">tuple</span><span class="token punctuation" style="color:#393A34" data-85-js-token="[-76-15">[</span><span class="token number" style="color:#36acaa" data-85-js-token="0-76-16">0</span><span class="token punctuation" style="color:#393A34" data-85-js-token="]-76-17">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-85-js-token="===-76-19">===</span><span class="token plain"> key</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-76-26">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="{-76-28">{</span><span class="token plain" data-85-js-token="-76-29"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="return-77-8">return</span><span class="token plain"> tuple</span><span class="token punctuation" style="color:#393A34" data-85-js-token="[-77-20">[</span><span class="token number" style="color:#36acaa" data-85-js-token="1-77-21">1</span><span class="token punctuation" style="color:#393A34" data-85-js-token="]-77-22">]</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-77-23">;</span><span class="token plain" data-85-js-token="-77-24"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34" data-85-js-token="}-78-6">}</span><span class="token plain" data-85-js-token="-78-7"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-85-js-token="}-79-4">}</span><span class="token plain" data-85-js-token="-79-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-85-js-token="-80-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="return-81-4">return</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f" data-85-js-token="null-81-11">null</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-81-15">;</span><span class="token plain" data-85-js-token="-81-16"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34" data-85-js-token="}-82-2">}</span><span class="token plain" data-85-js-token="-82-3"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-85-js-token="-83-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic" data-85-js-token="/**-84-2">/**</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * 删除元素</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * @param {*} key</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   */</span><span class="token plain" data-85-js-token="-87-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49" data-85-js-token="remove-88-2">remove</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-88-8">(</span><span class="token parameter" data-85-js-token="key-88-9">key</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-88-12">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="{-88-14">{</span><span class="token plain" data-85-js-token="-88-15"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-85-js-token="const-89-4">const</span><span class="token plain"> index </span><span class="token operator" style="color:#393A34" data-85-js-token="=-89-16">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-85-js-token="this-89-18">this</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-89-22">.</span><span class="token method function property-access" style="color:#d73a49" data-85-js-token="myHashFunc-89-23">myHashFunc</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-89-33">(</span><span class="token plain" data-85-js-token="key-89-34">key</span><span class="token punctuation" style="color:#393A34" data-85-js-token=",-89-37">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-85-js-token="this-89-39">this</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-89-43">.</span><span class="token property-access" data-85-js-token="limit-89-44">limit</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-89-49">)</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-89-50">;</span><span class="token plain" data-85-js-token="-89-51"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-85-js-token="-90-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-85-js-token="const-91-4">const</span><span class="token plain"> bucket </span><span class="token operator" style="color:#393A34" data-85-js-token="=-91-17">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-85-js-token="this-91-19">this</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-91-23">.</span><span class="token property-access" data-85-js-token="storage-91-24">storage</span><span class="token punctuation" style="color:#393A34" data-85-js-token="[-91-31">[</span><span class="token plain" data-85-js-token="index-91-32">index</span><span class="token punctuation" style="color:#393A34" data-85-js-token="]-91-37">]</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-91-38">;</span><span class="token plain" data-85-js-token="-91-39"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-85-js-token="-92-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="if-93-4">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-93-7">(</span><span class="token operator" style="color:#393A34" data-85-js-token="!-93-8">!</span><span class="token plain" data-85-js-token="bucket-93-9">bucket</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-93-15">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="return-93-17">return</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f" data-85-js-token="null-93-24">null</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-93-28">;</span><span class="token plain" data-85-js-token="-93-29"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-85-js-token="-94-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="for-95-4">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-95-8">(</span><span class="token keyword" style="color:#00009f" data-85-js-token="let-95-9">let</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-85-js-token="=-95-15">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-85-js-token="0-95-17">0</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-95-18">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-85-js-token="&lt;-95-22">&lt;</span><span class="token plain"> bucket</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-95-30">.</span><span class="token property-access" data-85-js-token="length-95-31">length</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-95-37">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34" data-85-js-token="++-95-40">++</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-95-42">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="{-95-44">{</span><span class="token plain" data-85-js-token="-95-45"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f" data-85-js-token="const-96-6">const</span><span class="token plain"> tuple </span><span class="token operator" style="color:#393A34" data-85-js-token="=-96-18">=</span><span class="token plain"> bucket</span><span class="token punctuation" style="color:#393A34" data-85-js-token="[-96-26">[</span><span class="token plain" data-85-js-token="i-96-27">i</span><span class="token punctuation" style="color:#393A34" data-85-js-token="]-96-28">]</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-96-29">;</span><span class="token plain" data-85-js-token="-96-30"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="if-97-6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-97-9">(</span><span class="token plain" data-85-js-token="tuple-97-10">tuple</span><span class="token punctuation" style="color:#393A34" data-85-js-token="[-97-15">[</span><span class="token number" style="color:#36acaa" data-85-js-token="0-97-16">0</span><span class="token punctuation" style="color:#393A34" data-85-js-token="]-97-17">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-85-js-token="===-97-19">===</span><span class="token plain"> key</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-97-26">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="{-97-28">{</span><span class="token plain" data-85-js-token="-97-29"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        bucket</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-98-14">.</span><span class="token method function property-access" style="color:#d73a49" data-85-js-token="splice-98-15">splice</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-98-21">(</span><span class="token plain" data-85-js-token="i-98-22">i</span><span class="token punctuation" style="color:#393A34" data-85-js-token=",-98-23">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-85-js-token="1-98-25">1</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-98-26">)</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-98-27">;</span><span class="token plain" data-85-js-token="-98-28"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f" data-85-js-token="this-99-8">this</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-99-12">.</span><span class="token property-access" data-85-js-token="count-99-13">count</span><span class="token operator" style="color:#393A34" data-85-js-token="---99-18">--</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-99-20">;</span><span class="token plain" data-85-js-token="-99-21"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-85-js-token="-100-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// 缩小数组的容量，为什么是8，设置容量的最小值</span><span class="token plain" data-85-js-token="-101-33"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="if-102-8">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-102-11">(</span><span class="token keyword" style="color:#00009f" data-85-js-token="this-102-12">this</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-102-16">.</span><span class="token property-access" data-85-js-token="limit-102-17">limit</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-85-js-token="&gt;-102-23">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-85-js-token="8-102-25">8</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-85-js-token="&amp;&amp;-102-27">&amp;&amp;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-85-js-token="this-102-30">this</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-102-34">.</span><span class="token property-access" data-85-js-token="count-102-35">count</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-85-js-token="&lt;-102-41">&lt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-85-js-token="this-102-43">this</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-102-47">.</span><span class="token property-access" data-85-js-token="limit-102-48">limit</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-85-js-token="*-102-54">*</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-85-js-token="0.25-102-56">0.25</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-102-60">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="{-102-62">{</span><span class="token plain" data-85-js-token="-102-63"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token keyword" style="color:#00009f" data-85-js-token="const-103-10">const</span><span class="token plain"> limit </span><span class="token operator" style="color:#393A34" data-85-js-token="=-103-22">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-85-js-token="this-103-24">this</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-103-28">.</span><span class="token method function property-access" style="color:#d73a49" data-85-js-token="getPrime-103-29">getPrime</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-103-37">(</span><span class="token known-class-name class-name" data-85-js-token="Math-103-38">Math</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-103-42">.</span><span class="token method function property-access" style="color:#d73a49" data-85-js-token="floor-103-43">floor</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-103-48">(</span><span class="token keyword" style="color:#00009f" data-85-js-token="this-103-49">this</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-103-53">.</span><span class="token property-access" data-85-js-token="limit-103-54">limit</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-85-js-token="/-103-60">/</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-85-js-token="2-103-62">2</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-103-63">)</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-103-64">)</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-103-65">;</span><span class="token plain" data-85-js-token="-103-66"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token keyword" style="color:#00009f" data-85-js-token="this-104-10">this</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-104-14">.</span><span class="token method function property-access" style="color:#d73a49" data-85-js-token="resize-104-15">resize</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-104-21">(</span><span class="token plain" data-85-js-token="limit-104-22">limit</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-104-27">)</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-104-28">;</span><span class="token plain" data-85-js-token="-104-29"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34" data-85-js-token="}-105-8">}</span><span class="token plain" data-85-js-token="-105-9"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="return-106-8">return</span><span class="token plain"> tuple</span><span class="token punctuation" style="color:#393A34" data-85-js-token="[-106-20">[</span><span class="token number" style="color:#36acaa" data-85-js-token="1-106-21">1</span><span class="token punctuation" style="color:#393A34" data-85-js-token="]-106-22">]</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-106-23">;</span><span class="token plain" data-85-js-token="-106-24"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34" data-85-js-token="}-107-6">}</span><span class="token plain" data-85-js-token="-107-7"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-85-js-token="}-108-4">}</span><span class="token plain" data-85-js-token="-108-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-85-js-token="-109-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="return-110-4">return</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f" data-85-js-token="null-110-11">null</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-110-15">;</span><span class="token plain" data-85-js-token="-110-16"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34" data-85-js-token="}-111-2">}</span><span class="token plain" data-85-js-token="-111-3"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-85-js-token="-112-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic" data-85-js-token="/**-113-2">/**</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * 扩容哈希表</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   * @param {*} newLimit</span></div><div class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">   */</span><span class="token plain" data-85-js-token="-116-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49" data-85-js-token="resize-117-2">resize</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-117-8">(</span><span class="token parameter" data-85-js-token="newLimit-117-9">newLimit</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-117-17">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="{-117-19">{</span><span class="token plain" data-85-js-token="-117-20"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-85-js-token="const-118-4">const</span><span class="token plain"> oldStorage </span><span class="token operator" style="color:#393A34" data-85-js-token="=-118-21">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-85-js-token="this-118-23">this</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-118-27">.</span><span class="token property-access" data-85-js-token="storage-118-28">storage</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-118-35">;</span><span class="token plain" data-85-js-token="-118-36"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-85-js-token="-119-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-85-js-token="this-120-4">this</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-120-8">.</span><span class="token property-access" data-85-js-token="limit-120-9">limit</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-85-js-token="=-120-15">=</span><span class="token plain"> newLimit</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-120-25">;</span><span class="token plain" data-85-js-token="-120-26"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-85-js-token="this-121-4">this</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-121-8">.</span><span class="token property-access" data-85-js-token="count-121-9">count</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-85-js-token="=-121-15">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-85-js-token="0-121-17">0</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-121-18">;</span><span class="token plain" data-85-js-token="-121-19"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-85-js-token="this-122-4">this</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-122-8">.</span><span class="token property-access" data-85-js-token="storage-122-9">storage</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-85-js-token="=-122-17">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="[-122-19">[</span><span class="token punctuation" style="color:#393A34" data-85-js-token="]-122-20">]</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-122-21">;</span><span class="token plain" data-85-js-token="-122-22"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-85-js-token="-123-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    oldStorage</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-124-14">.</span><span class="token method function property-access" style="color:#d73a49" data-85-js-token="forEach-124-15">forEach</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-124-22">(</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-124-23">(</span><span class="token parameter" data-85-js-token="bucket-124-24">bucket</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-124-30">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34" data-85-js-token="=&gt;-124-32">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="{-124-35">{</span><span class="token plain" data-85-js-token="-124-36"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="if-125-6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-125-9">(</span><span class="token operator" style="color:#393A34" data-85-js-token="!-125-10">!</span><span class="token plain" data-85-js-token="bucket-125-11">bucket</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-125-17">)</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="return-125-19">return</span><span class="token plain"> </span><span class="token keyword null nil" style="color:#00009f" data-85-js-token="null-125-26">null</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-125-30">;</span><span class="token plain" data-85-js-token="-125-31"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-85-js-token="-126-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="for-127-6">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-127-10">(</span><span class="token keyword" style="color:#00009f" data-85-js-token="let-127-11">let</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-85-js-token="=-127-17">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-85-js-token="0-127-19">0</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-127-20">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-85-js-token="&lt;-127-24">&lt;</span><span class="token plain"> bucket</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-127-32">.</span><span class="token property-access" data-85-js-token="length-127-33">length</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-127-39">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34" data-85-js-token="++-127-42">++</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-127-44">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="{-127-46">{</span><span class="token plain" data-85-js-token="-127-47"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f" data-85-js-token="const-128-8">const</span><span class="token plain"> tuple </span><span class="token operator" style="color:#393A34" data-85-js-token="=-128-20">=</span><span class="token plain"> bucket</span><span class="token punctuation" style="color:#393A34" data-85-js-token="[-128-28">[</span><span class="token plain" data-85-js-token="i-128-29">i</span><span class="token punctuation" style="color:#393A34" data-85-js-token="]-128-30">]</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-128-31">;</span><span class="token plain" data-85-js-token="-128-32"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f" data-85-js-token="this-129-8">this</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-129-12">.</span><span class="token method function property-access" style="color:#d73a49" data-85-js-token="put-129-13">put</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-129-16">(</span><span class="token plain" data-85-js-token="tuple-129-17">tuple</span><span class="token punctuation" style="color:#393A34" data-85-js-token="[-129-22">[</span><span class="token number" style="color:#36acaa" data-85-js-token="0-129-23">0</span><span class="token punctuation" style="color:#393A34" data-85-js-token="]-129-24">]</span><span class="token punctuation" style="color:#393A34" data-85-js-token=",-129-25">,</span><span class="token plain"> tuple</span><span class="token punctuation" style="color:#393A34" data-85-js-token="[-129-32">[</span><span class="token number" style="color:#36acaa" data-85-js-token="1-129-33">1</span><span class="token punctuation" style="color:#393A34" data-85-js-token="]-129-34">]</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-129-35">)</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-129-36">;</span><span class="token plain" data-85-js-token="-129-37"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34" data-85-js-token="}-130-6">}</span><span class="token plain" data-85-js-token="-130-7"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-85-js-token="}-131-4">}</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-131-5">)</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-131-6">;</span><span class="token plain" data-85-js-token="-131-7"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34" data-85-js-token="}-132-2">}</span><span class="token plain" data-85-js-token="-132-3"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-85-js-token="-133-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49" data-85-js-token="isEmpty-134-2">isEmpty</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-134-9">(</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-134-10">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="{-134-12">{</span><span class="token plain" data-85-js-token="-134-13"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="return-135-4">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-85-js-token="this-135-11">this</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-135-15">.</span><span class="token property-access" data-85-js-token="count-135-16">count</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-85-js-token="===-135-22">===</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-85-js-token="0-135-26">0</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-135-27">;</span><span class="token plain" data-85-js-token="-135-28"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34" data-85-js-token="}-136-2">}</span><span class="token plain" data-85-js-token="-136-3"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-85-js-token="-137-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49" data-85-js-token="size-138-2">size</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-138-6">(</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-138-7">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="{-138-9">{</span><span class="token plain" data-85-js-token="-138-10"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="return-139-4">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-85-js-token="this-139-11">this</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-139-15">.</span><span class="token property-access" data-85-js-token="size-139-16">size</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-139-20">;</span><span class="token plain" data-85-js-token="-139-21"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34" data-85-js-token="}-140-2">}</span><span class="token plain" data-85-js-token="-140-3"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-85-js-token="-141-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 判断是否是质数</span><span class="token plain" data-85-js-token="-142-12"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49" data-85-js-token="isPrime-143-2">isPrime</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-85-js-token="=-143-10">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-85-js-token="function-143-12">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-143-21">(</span><span class="token parameter" data-85-js-token="num-143-22">num</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-143-25">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="{-143-27">{</span><span class="token plain" data-85-js-token="-143-28"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f" data-85-js-token="var-144-4">var</span><span class="token plain"> temp </span><span class="token operator" style="color:#393A34" data-85-js-token="=-144-13">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49" data-85-js-token="parseInt-144-15">parseInt</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-144-23">(</span><span class="token known-class-name class-name" data-85-js-token="Math-144-24">Math</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-144-28">.</span><span class="token method function property-access" style="color:#d73a49" data-85-js-token="sqrt-144-29">sqrt</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-144-33">(</span><span class="token plain" data-85-js-token="num-144-34">num</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-144-37">)</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-144-38">)</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-144-39">;</span><span class="token plain" data-85-js-token="-144-40"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// 2.循环判断</span><span class="token plain" data-85-js-token="-145-13"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="for-146-4">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-146-8">(</span><span class="token keyword" style="color:#00009f" data-85-js-token="var-146-9">var</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-85-js-token="=-146-15">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-85-js-token="2-146-17">2</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-146-18">;</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-85-js-token="&lt;=-146-22">&lt;=</span><span class="token plain"> temp</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-146-29">;</span><span class="token plain"> i</span><span class="token operator" style="color:#393A34" data-85-js-token="++-146-32">++</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-146-34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="{-146-36">{</span><span class="token plain" data-85-js-token="-146-37"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="if-147-6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-147-9">(</span><span class="token plain">num </span><span class="token operator" style="color:#393A34" data-85-js-token="%-147-14">%</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34" data-85-js-token="==-147-18">==</span><span class="token plain"> </span><span class="token number" style="color:#36acaa" data-85-js-token="0-147-21">0</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-147-22">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="{-147-24">{</span><span class="token plain" data-85-js-token="-147-25"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="return-148-8">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa" data-85-js-token="false-148-15">false</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-148-20">;</span><span class="token plain" data-85-js-token="-148-21"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34" data-85-js-token="}-149-6">}</span><span class="token plain" data-85-js-token="-149-7"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-85-js-token="}-150-4">}</span><span class="token plain" data-85-js-token="-150-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="return-151-4">return</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa" data-85-js-token="true-151-11">true</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-151-15">;</span><span class="token plain" data-85-js-token="-151-16"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34" data-85-js-token="}-152-2">}</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-152-3">;</span><span class="token plain" data-85-js-token="-152-4"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-85-js-token="-153-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// 获取质数</span><span class="token plain" data-85-js-token="-154-9"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49" data-85-js-token="getPrime-155-2">getPrime</span><span class="token plain"> </span><span class="token operator" style="color:#393A34" data-85-js-token="=-155-11">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-85-js-token="function-155-13">function</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-155-22">(</span><span class="token parameter" data-85-js-token="num-155-23">num</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-155-26">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="{-155-28">{</span><span class="token plain" data-85-js-token="-155-29"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="while-156-4">while</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-156-10">(</span><span class="token operator" style="color:#393A34" data-85-js-token="!-156-11">!</span><span class="token function" style="color:#d73a49" data-85-js-token="isPrime-156-12">isPrime</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-156-19">(</span><span class="token plain" data-85-js-token="num-156-20">num</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-156-23">)</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-156-24">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34" data-85-js-token="{-156-26">{</span><span class="token plain" data-85-js-token="-156-27"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      num</span><span class="token operator" style="color:#393A34" data-85-js-token="++-157-9">++</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-157-11">;</span><span class="token plain" data-85-js-token="-157-12"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34" data-85-js-token="}-158-4">}</span><span class="token plain" data-85-js-token="-158-5"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f" data-85-js-token="return-159-4">return</span><span class="token plain"> num</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-159-14">;</span><span class="token plain" data-85-js-token="-159-15"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34" data-85-js-token="}-160-2">}</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-160-3">;</span><span class="token plain" data-85-js-token="-160-4"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-85-js-token="-161-0"></span><span class="token punctuation" style="color:#393A34" data-85-js-token="}-161-0">}</span><span class="token plain" data-85-js-token="-161-1"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-85-js-token="-162-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-85-js-token="-163-0"></span><span class="token keyword" style="color:#00009f" data-85-js-token="const-163-0">const</span><span class="token plain"> myHashMap </span><span class="token operator" style="color:#393A34" data-85-js-token="=-163-16">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f" data-85-js-token="new-163-18">new</span><span class="token plain"> </span><span class="token class-name" data-85-js-token="MyHashMap-163-22">MyHashMap</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-163-31">(</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-163-32">)</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-163-33">;</span><span class="token plain" data-85-js-token="-163-34"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-85-js-token="-164-0"></span><span class="token comment" style="color:#999988;font-style:italic">// 测试哈希表</span><span class="token plain" data-85-js-token="-164-8"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-85-js-token="-165-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-85-js-token="-166-0"></span><span class="token comment" style="color:#999988;font-style:italic">// 2.插入数据</span><span class="token plain" data-85-js-token="-166-9"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-85-js-token="myHashMap-167-0">myHashMap</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-167-9">.</span><span class="token method function property-access" style="color:#d73a49" data-85-js-token="put-167-10">put</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-167-13">(</span><span class="token string" style="color:#e3116c" data-85-js-token="&quot;abc&quot;-167-14">&quot;abc&quot;</span><span class="token punctuation" style="color:#393A34" data-85-js-token=",-167-19">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c" data-85-js-token="&quot;123&quot;-167-21">&quot;123&quot;</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-167-26">)</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-167-27">;</span><span class="token plain" data-85-js-token="-167-28"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-85-js-token="myHashMap-168-0">myHashMap</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-168-9">.</span><span class="token method function property-access" style="color:#d73a49" data-85-js-token="put-168-10">put</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-168-13">(</span><span class="token string" style="color:#e3116c" data-85-js-token="&quot;cba&quot;-168-14">&quot;cba&quot;</span><span class="token punctuation" style="color:#393A34" data-85-js-token=",-168-19">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c" data-85-js-token="&quot;321&quot;-168-21">&quot;321&quot;</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-168-26">)</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-168-27">;</span><span class="token plain" data-85-js-token="-168-28"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-85-js-token="myHashMap-169-0">myHashMap</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-169-9">.</span><span class="token method function property-access" style="color:#d73a49" data-85-js-token="put-169-10">put</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-169-13">(</span><span class="token string" style="color:#e3116c" data-85-js-token="&quot;nba&quot;-169-14">&quot;nba&quot;</span><span class="token punctuation" style="color:#393A34" data-85-js-token=",-169-19">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c" data-85-js-token="&quot;521&quot;-169-21">&quot;521&quot;</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-169-26">)</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-169-27">;</span><span class="token plain" data-85-js-token="-169-28"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-85-js-token="myHashMap-170-0">myHashMap</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-170-9">.</span><span class="token method function property-access" style="color:#d73a49" data-85-js-token="put-170-10">put</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-170-13">(</span><span class="token string" style="color:#e3116c" data-85-js-token="&quot;mba&quot;-170-14">&quot;mba&quot;</span><span class="token punctuation" style="color:#393A34" data-85-js-token=",-170-19">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c" data-85-js-token="&quot;520&quot;-170-21">&quot;520&quot;</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-170-26">)</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-170-27">;</span><span class="token plain" data-85-js-token="-170-28"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-85-js-token="-171-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-85-js-token="-172-0"></span><span class="token comment" style="color:#999988;font-style:italic">// 3.获取数据</span><span class="token plain" data-85-js-token="-172-9"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-85-js-token="-173-0"></span><span class="token console class-name" data-85-js-token="console-173-0">console</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-173-7">.</span><span class="token method function property-access" style="color:#d73a49" data-85-js-token="log-173-8">log</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-173-11">(</span><span class="token plain" data-85-js-token="myHashMap-173-12">myHashMap</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-173-21">.</span><span class="token method function property-access" style="color:#d73a49" data-85-js-token="get-173-22">get</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-173-25">(</span><span class="token string" style="color:#e3116c" data-85-js-token="&quot;abc&quot;-173-26">&quot;abc&quot;</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-173-31">)</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-173-32">)</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-173-33">;</span><span class="token plain" data-85-js-token="-173-34"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-85-js-token="myHashMap-174-0">myHashMap</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-174-9">.</span><span class="token method function property-access" style="color:#d73a49" data-85-js-token="put-174-10">put</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-174-13">(</span><span class="token string" style="color:#e3116c" data-85-js-token="&quot;abc&quot;-174-14">&quot;abc&quot;</span><span class="token punctuation" style="color:#393A34" data-85-js-token=",-174-19">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c" data-85-js-token="&quot;111&quot;-174-21">&quot;111&quot;</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-174-26">)</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-174-27">;</span><span class="token plain" data-85-js-token="-174-28"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-85-js-token="-175-0"></span><span class="token console class-name" data-85-js-token="console-175-0">console</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-175-7">.</span><span class="token method function property-access" style="color:#d73a49" data-85-js-token="log-175-8">log</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-175-11">(</span><span class="token plain" data-85-js-token="myHashMap-175-12">myHashMap</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-175-21">.</span><span class="token method function property-access" style="color:#d73a49" data-85-js-token="get-175-22">get</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-175-25">(</span><span class="token string" style="color:#e3116c" data-85-js-token="&quot;abc&quot;-175-26">&quot;abc&quot;</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-175-31">)</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-175-32">)</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-175-33">;</span><span class="token plain" data-85-js-token="-175-34"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block" data-85-js-token="-176-0">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-85-js-token="-177-0"></span><span class="token comment" style="color:#999988;font-style:italic">// 4.删除数据</span><span class="token plain" data-85-js-token="-177-9"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-85-js-token="-178-0"></span><span class="token console class-name" data-85-js-token="console-178-0">console</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-178-7">.</span><span class="token method function property-access" style="color:#d73a49" data-85-js-token="log-178-8">log</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-178-11">(</span><span class="token plain" data-85-js-token="myHashMap-178-12">myHashMap</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-178-21">.</span><span class="token method function property-access" style="color:#d73a49" data-85-js-token="remove-178-22">remove</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-178-28">(</span><span class="token string" style="color:#e3116c" data-85-js-token="&quot;abc&quot;-178-29">&quot;abc&quot;</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-178-34">)</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-178-35">)</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-178-36">;</span><span class="token plain" data-85-js-token="-178-37"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" data-85-js-token="-179-0"></span><span class="token console class-name" data-85-js-token="console-179-0">console</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-179-7">.</span><span class="token method function property-access" style="color:#d73a49" data-85-js-token="log-179-8">log</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-179-11">(</span><span class="token plain" data-85-js-token="myHashMap-179-12">myHashMap</span><span class="token punctuation" style="color:#393A34" data-85-js-token=".-179-21">.</span><span class="token method function property-access" style="color:#d73a49" data-85-js-token="get-179-22">get</span><span class="token punctuation" style="color:#393A34" data-85-js-token="(-179-25">(</span><span class="token string" style="color:#e3116c" data-85-js-token="&quot;abc&quot;-179-26">&quot;abc&quot;</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-179-31">)</span><span class="token punctuation" style="color:#393A34" data-85-js-token=")-179-32">)</span><span class="token punctuation" style="color:#393A34" data-85-js-token=";-179-33">;</span></div></pre></div><h1 id="参考文档"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#参考文档"><span class="icon icon-link"></span></a>参考文档</h1><ul><li><a target="_blank" rel="noopener noreferrer" href="https://www.jianshu.com/p/6e88d63061f2">coderWhy 数据结构(九)之哈希表理论<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a target="_blank" rel="noopener noreferrer" href="https://zhuanlan.zhihu.com/p/51300835">秦九韶算法：快速计算多项式的值<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul><h1 id="推荐阅读"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#推荐阅读"><span class="icon icon-link"></span></a>推荐阅读</h1><h2 id="工程化系列"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#工程化系列"><span class="icon icon-link"></span></a>工程化系列</h2><p>本系列是一个从0到1的实现过程，如果您有耐心跟着实现，您可以实现一个完整的<code>react18 + ts5 + webpack5 + 代码质量&amp;代码风格检测&amp;自动修复 + storybook8 + rollup + git action</code>实现的一个完整的组件库模板项目。如果您不打算自己配置，也可以直接clone<a target="_blank" rel="noopener noreferrer" href="https://github.com/zhuling904/react_demo/tree/rollup_comp">组件库仓库<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>切换到<code>rollup_comp</code>分支即是完整的项目，当前实现已经足够个人使用，后续我们会新增webpack5优化、按需加载组件、实现一些常见的组件封装：包括但不限于拖拽排序、瀑布流、穿梭框、弹窗等</p><ul><li><a target="_blank" rel="noopener noreferrer" href="https://juejin.cn/post/7353504333999505408">手把手带你搭建前端项目：react18、ts5、lint四剑客、webpack、storybook【保姆级教程一】<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a target="_blank" rel="noopener noreferrer" href="https://juejin.cn/post/7353561676091097103">手把手带你搭建前端项目：react18、ts5、lint四剑客、webpack、storybook【保姆级教程二】<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a target="_blank" rel="noopener noreferrer" href="https://juejin.cn/post/7353963878541246504">手把手带你搭建前端项目：react18、ts5、lint四剑客、webpack、storybook【保姆级教程三】 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a target="_blank" rel="noopener noreferrer" href="https://juejin.cn/post/7355026320088989733">手把手带你搭建前端项目：react18、ts5、lint四剑客、webpack、storybook【保姆级教程四】 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a target="_blank" rel="noopener noreferrer" href="https://juejin.cn/post/7356175306937466916">前端三大包管理器你知道多少？npm、yarn、pnpm<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a target="_blank" rel="noopener noreferrer" href="https://juejin.cn/post/7356815857078157331">前端怎么可以不会GitHub Action一键部署？<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul><h2 id="面试手写系列"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#面试手写系列"><span class="icon icon-link"></span></a>面试手写系列</h2><ul><li><a target="_blank" rel="noopener noreferrer" href="https://juejin.cn/post/7353504333999505408">前端面试手写必备【实现常见八大数据结构一】<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a target="_blank" rel="noopener noreferrer" href="https://juejin.cn/post/7359877430340157503">手写哈希表【银四末尾，你上岸了吗？】哈希表，快速计算、均匀分布、扩容实现<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul><h2 id="react实现原理系列"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#react实现原理系列"><span class="icon icon-link"></span></a>react实现原理系列</h2><ul><li><a target="_blank" rel="noopener noreferrer" href="https://juejin.cn/spost/7360512664316117026">【react原理实践】使用babel手搓探索下jsx的原理<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a target="_blank" rel="noopener noreferrer" href="https://juejin.cn/spost/7361284455535345699">【喂饭式调试react源码】上手调试源码探究jsx原理<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a target="_blank" rel="noopener noreferrer" href="https://juejin.cn/spost/7363220284503097354#heading-0">【上手调试源码系列】图解react几个核心包之间的关联<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul><h2 id="其他"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#其他"><span class="icon icon-link"></span></a>其他</h2><ul><li><a target="_blank" rel="noopener noreferrer" href="https://juejin.cn/post/7358709354424860707">工作流【效率小技巧】让alfred帮我启动所有项目，nice<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li><a target="_blank" rel="noopener noreferrer" href="https://juejin.cn/post/7352045198854406183">GPT4前端食用指南<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul><h1 id="-写在最后"><a aria-hidden="true" tabindex="-1" href="/JS_handle_write_book//00handle_write_js/01data_structor/08map#-写在最后"><span class="icon icon-link"></span></a>🍋 写在最后</h1><p>如果您看到这里了，并且觉得这篇文章对您有所帮助，希望您能够点赞👍和收藏⭐支持一下作者🙇🙇🙇，感谢🍺🍺！如果文中有任何不准确之处，也欢迎您指正，共同进步。感谢您的阅读，期待您的点赞👍和收藏⭐！</p><p>感兴趣的同学可以关注下我的公众号ObjectX前端实验室</p><p>🌟 少走弯路 | ObjectX前端实验室 🛠️「精选资源｜实战经验｜技术洞见」</p><style>
mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
  min-height: 1px;
  min-width: 1px;
}

mjx-container[jax="SVG"] > svg a {
  fill: blue;
  stroke: blue;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][display="true"][width="full"] {
  display: flex;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line], svg[data-table] > g > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame], svg[data-table] > g > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed, svg[data-table] > g > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted, svg[data-table] > g > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > g > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

mjx-container[jax="SVG"] path[data-c], mjx-container[jax="SVG"] use[data-c] {
  stroke-width: 3;
}
</style></div><div class="__dumi-default-layout-footer-meta"><span data-updated-text="Last update: ">6/15/2024 13:03:57</span></div></article></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/JS_handle_write_book/umi.fb81c716.js"></script>
  </body>
</html>
